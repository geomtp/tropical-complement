\documentclass[a4paper,dvipdfmx,reqno,12pt]{amsart}
%\documentclass[a4paper,reqno,12pt]{amsart}%for arxiv
\synctex=1
%
%%%% packages
\usepackage[utf8]{inputenc}

\usepackage{mathtools,thmtools}
%\usepackage{pgf,pgfplots}
%\usepackage{tikz}
%\pgfplotsset{compat=1.15}
%\usetikzlibrary{arrows}
\usepackage{tikz-cd}%
%\usetikzlibrary{cd}
%\usetikzlibrary{calc}

\usepackage{graphicx,color}%for images
\usepackage{bm}%fonts
\usepackage{amsmath,amsthm,amstext,amsfonts,amsbsy}%
\usepackage{amssymb}
\usepackage{latexsym}%
%\usepackage{algpseudocode,algorithm}%
\usepackage{todonotes}%comments
\usepackage[margin=3cm]{geometry}
\usepackage{layout}
\usepackage[T1]{fontenc}%font encoding
\usepackage{physics}
\usepackage{braket}%after physics

% \usepackage{imakeidx}%before hyperref for pagebackref
\usepackage[pagebackref]{hyperref}
\usepackage[capitalize]{cleveref}
\hypersetup{
     colorlinks = true,
     citecolor  = blue,
     linkcolor  = blue, 
     urlcolor   = blue, 
}
%\usepackage{pxjahyper}%for hyperref in Japanese
\usepackage{bookmark}

\usepackage{fancyhdr}
\pagestyle{plain}
\setlength{\footskip}{30pt}

\usepackage{enumitem}

%%%%


%%%% theoremstyle

\theoremstyle{definition}
\newtheorem{theorem}{Theorem}[section]
\newtheorem*{theorem*}{Theorem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{definition*}{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem*{example*}{Example}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{note}[theorem]{Note}
\newtheorem*{note*}{Note}
\newtheorem{notice}[theorem]{Notice}
\newtheorem*{notice*}{Notice}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{fact}[theorem]{Fact}
\newtheorem*{fact*}{Fact}
\newtheorem{question}[theorem]{Question}
\newtheorem*{question*}{Question}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem{notation}[theorem]{Notation}
\newtheorem*{notation*}{Notation}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}
\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remark*}{Remark}
\newtheorem{condition}[theorem]{Condition}
\newtheorem*{condition*}{Condition}
\newtheorem{convention}[theorem]{Convention}
\newtheorem*{convention*}{Convention}
\newtheorem{observation}[theorem]{Observation}
\newtheorem*{observation*}{Observation}
%%%% newcommand

%%%logic symbol
\newcommand{\deq}{\coloneqq}

\newcommand{\dbraket}[1]{\hspace{-1.5pt}\braket{\hspace{-2.2pt}\braket{#1}\hspace{-2.2pt}}}

\newcommand{\textcmd}[1]{\texttt{\symbol{"5C}#1}}

%%special sets
\newcommand{\emp}{\varnothing}%emptyset
\newcommand{\C}{\mathbb{C}}%complex number
\newcommand{\Ha}{\mathbb{H}}%quaternion
\newcommand{\F}{\mathbb{F}}%field
\newcommand{\R}{\mathbb{R}}%real number
\newcommand{\Q}{\mathbb{Q}}%rational number
\newcommand{\Z}{\mathbb{Z}}%integer
\newcommand{\N}{\mathbb{N}_{0}}%natural number
\newcommand{\Pj}{\mathbb{P}}%bold p
\newcommand{\vep}{\varepsilon}%varepsilon

%%%%

\newcommand{\mb}[1]{\mathbb{#1}}%blackboard bold (for math mode)
\newcommand{\mcal}[1]{\mathcal{#1}}%

\newcommand{\opn}[1]{\operatorname{#1}}
\newcommand{\catn}[1]{\mathbf{#1}}

\newcommand{\abk}[1]{\langle {#1} \rangle}%angle bracket 
\newcommand{\Abk}[1]{\left \langle {#1} \right \rangle}%angle bracket (auto sizing)
\newcommand{\dabk}[1]{\langle\! \langle {#1}\rangle \! \rangle}%double angle bracket
\newcommand{\Dabk}[1]{\left \langle \! \left \langle {#1} \right \rangle \! \right \rangle}%double angle bracket
\newcommand{\Sbk}[1]{\left[ {#1} ]\right }% square bracket [] (auto sizing)
\newcommand{\Cbk}[1]{\left \{ {#1}\right \}}% curly bracket {} (auto sizing)
\newcommand{\dcbk}[1]{\{\!\!\{ {#1}\}\!\!\}} % double curly bracket {{}} 
\newcommand{\Dcbk}[1]{\left \{\!\! \left \{ {#1} \right\} \!\!\right \}} % double curly bracket {{}} (auto sizing)
\newcommand{\Paren}[1]{\left ( {#1} \right )}%parenthesis () (auto sizing)
\newcommand{\dparen}[1]{(\!({#1})\!)}%double parenthesis
\newcommand{\xto}[1]{\xrightarrow{#1}}
\newcommand{\xgets}[1]{\xleftarrow{#1}}
\newcommand{\hookto}{\hookrightarrow}


%%%% 

% %%%% mathabx.sty (font) 
% \DeclareFontFamily{U}{matha}{\hyphenchar\font45}
% \DeclareFontShape{U}{matha}{m}{n}{
%       <5> <6> <7> <8> <9> <10> gen * matha
%       <10.95> matha10 <12> <14.4> <17.28> <20.74> <24.88> matha12
%       }{}
% \DeclareSymbolFont{matha}{U}{matha}{m}{n}

% \DeclareFontFamily{U}{mathb}{\hyphenchar\font45}
% \DeclareFontShape{U}{mathb}{m}{n}{
%       <5> <6> <7> <8> <9> <10> gen * mathb
%       <10.95> mathb10 <12> <14.4> <17.28> <20.74> <24.88> mathb12
%       }{}
% \DeclareSymbolFont{mathb}{U}{mathb}{m}{n}

% \DeclareFontFamily{U}{mathx}{\hyphenchar\font45}
% \DeclareFontShape{U}{mathx}{m}{n}{
%       <5> <6> <7> <8> <9> <10>
%       <10.95> <12> <14.4> <17.28> <20.74> <24.88>
%       mathx10
%       }{}
% \DeclareSymbolFont{mathx}{U}{mathx}{m}{n}

% %DeclareMathSymbol (from mathabx.sty)
% \DeclareMathSymbol{\bigboxslash}{\mathop}{mathx}{"FE}
% \DeclareMathSymbol{\bigboxtimes}{\mathop}{mathx}{"D2}
% %%%%

% %%%% MnSymbol.sty (font)
% \DeclareFontFamily{U}{MnSymbolC}{}
% \DeclareFontShape{U}{MnSymbolC}{m}{n}{
%   <-6> MnSymbolC5
%   <6-7> MnSymbolC6
%   <7-8> MnSymbolC7
%   <8-9> MnSymbolC8
%   <9-10> MnSymbolC9
%   <10-12> MnSymbolC10
%   <12-> MnSymbolC12}{}
% \DeclareFontShape{U}{MnSymbolC}{b}{n}{
%   <-6> MnSymbolA-Bold5
%   <6-7> MnSymbolC-Bold6
%   <7-8> MnSymbolC-Bold7
%   <8-9> MnSymbolC-Bold8
%   <9-10> MnSymbolC-Bold9
%   <10-12> MnSymbolC-Bold10
%   <12-> MnSymbolC-Bold12}{}

% \DeclareSymbolFont{MnSyC}{U}{MnSymbolC}{m}{n}

% %%%% DeclareMathSymbol (from MnSymbol.sty)

% \DeclareMathSymbol{\tplus}{\mathbin}{MnSyC}{43}
% \DeclareMathSymbol{\aplus}{\mathbin}{MnSyC}{190}

%%%% renewcommand




%%%% footnote

\newcommand{\myfootnote}[1]{\hspace{-5pt}\footnote{#1}}

\newcommand{\TB}{\mcal{T}_{B}}
\newcommand{\TBZ}{\mcal{T}_{\Z,B}}
\newcommand{\AffS}{{\mathop{\mcal{A}\!f\!\!f\!}\nolimits}}
\newcommand{\simto}{ 
\mathrel{\raisebox{0.13em}{${\sim}$}}
\kern -0.75em \mathrel{\raisebox{-0.11em}{${\scriptstyle \to}$}}  
}
%%%%  

%%%% 

\renewcommand*{\backrefalt}[4]{%
\ifcase #1 %
\or        [Cited on p.#2.]%
\else      [Cited on pp.#2.]%
\fi}

\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\CDiv}{Div^{\infty}}
\DeclareMathOperator{\fuk}{fuk}
\DeclareMathOperator{\coh}{coh}
\DeclareMathOperator{\reg}{gen}
\DeclareMathOperator{\tform}{\Omega}
\DeclareMathOperator{\mform}{\mathcal{F}}
\newcommand{\PD}[1]{[#1]_{\mathrm{PD}}}

\crefname{equation}{}{}
\crefname{conjecture}{Conjecture}{Conjectures}

\usepackage{mathrsfs}
\usepackage{upgreek}
\numberwithin{equation}{section}
\title{The complement of tropical curves in moderate position on
tropical surfaces}
\author[Y. Tsutsui]{Yuki Tsutsui}
\address{Graduate School of Mathematical Sciences,
The University of Tokyo, 3-8-1 Komaba, Meguro-Ku,
Tokyo, 153-8914, Japan}
\email{tyuki@ms.u-tokyo.ac.jp}
%\date{\today}

\begin{document}
\begin{abstract}
% 1. de Medrano, Rinc\'on and Shaw defined 
% the Chern classes and the Todd classes on
% tropical manifolds as an extension
% of their theory of
% the Chern--Schwartz--Macpherson cycles on matroids.
% This makes it possible to define
% the Riemann--Roch number of tropical Cartier divisors
% on compact tropical manifolds.
% In this paper, we discuss a conjecture
% that the Riemann--Roch number
% $\opn{RR}(X;D)$ of
% a tropical submanifold $D$ of codimension $1$
% in moderate position on a compact tropical manifold
% $X$ is equal to the topological Euler characteristic of 
% the complement $X\setminus D$.
% In particular, we prove it and 
% its generalization when $X$ is a compact
% tropical surface admitting a Delzant face structure.
\end{abstract}

\maketitle

\section{Introduction}
\subsection{Background}
Thanks to the theory of the Chern classes of
matroids and tropical manifolds by 
de Medrano--Rinc\'on--Shaw
\cite{MR3999674,demedrano2023chern},
we can define the Todd class of tropical manifolds
naturally \cite[Conjecture 6.13]{demedrano2023chern}.
In particular, we can also define the Riemann--Roch
number $\opn{RR}(X;D)$ for any (sedentarity-0)
tropical Cartier divisor $D$ on
a compact (purely) $n$-dimensional tropical manifold $X$:
\begin{align}
\label{equation-intro-rr}
\opn{RR}(X;D)\deq 
\int_{X}\opn{ch}(\mathcal{L}(D))\opn{td}(X).
\end{align}
where $\mathcal{L}(D)$ is the 
tropical line bundle associated with $D$,
$\opn{ch}(\mathcal{L}(D))\deq 
\sum_{i=0}^{\infty}\frac{c_1(\mathcal{L}(D))^{i}}{i!}$
is the Chern character of $\mathcal{L}(D)$
and $\int_X$ is the trace map of $X$.
We can extend the Riemann--Roch number for
tropical cycles of codimension $1$
by Poincar\'e duality
(\cref{definition-rr-number}).
In algebraic geometry, the Riemann--Roch number
$\opn{RR}(X;D)$ of a given Cartier divisor $D$
on a smooth projective variety
corresponds to
the Euler characteristic of the sheaf cohomology
of the invertible sheaf 
associated with $D$ by the Hirzebruch--Riemann--Roch theorem
or the Grothendieck--Riemann--Roch theorem.

In tropical geometry, invertible sheaves,
particularly the structure sheaf
on tropical manifolds
(e.g. \cite[\textsection 1]{MR3330789}) 
do not form sheaves of Abelian groups.
Consequently, there is no direct
analog of the Euler characteristic of 
the sheaf cohomology of 
tropical Cartier divisors now.
The tropical Riemann--Roch theorem for 
compact tropical curves was proved by 
both Gathmann--Kerber \cite{MR2377750}
and Mikhalkin--Zharkov \cite{MR2457739}
independently
as a generalization of the 
Riemann--Roch theorem for finite graphs
established by Baker--Norine \cite{MR2355607}. 
The generalization of these results and
their derivatives have developed in works such as 
\cite{MR3046301,MR4251610,MR4229604,MR4444458,MR4512397}.

However, researchers have not yet established
the tropical Riemann--Roch
theorem for higher-dimensional
compact tropical manifolds
as a direct generalization of the tropical
Riemann--Roch theorem for compact tropical curves.
Regardless of the specifics, it seems that understanding
the tropical geometric meaning of $\opn{RR}(X;D)$ is 
important.
At least, there exists a common interpretation
for a geometric meaning of the Riemann--Roch number
$\opn{RR}(X;0)$ for the trivial divisor.
In \cite[Conjecture 6.13]{demedrano2023chern},
de Medrano, Rinc\'on and Shaw conjectured
that $\opn{RR}(X;0)$ for a compact 
tropical manifold $X$ is equal to the 
topological Euler characteristic 
$\chi(X)$ of $X$, 
and they proved it when 
$X$ is a compact tropical surface admitting
a Delzant face structure \cite[Theorem 6.3]{demedrano2023chern}.
They also proved a sufficiently broad range of 
tropical surfaces admit Delzant face structures
\cite[Corollary 6.11]{demedrano2023chern}.
(The tropical Noether formula
was studied in \cite{shaw2015tropical} previously.
We also note that a study of the Noether
formula for tropical complexes of dimension $2$
in \cite{cartwright2015combinatorial}).
Many researchers expect that the topological Euler 
characteristic of compact tropical manifolds
should be an analog of that of the sheaf cohomology
of the structure sheaves on complete
smooth algebraic varieties.
In fact, the two are highly related 
via a good degeneration of algebraic varieties
\cite[Corollary 2]{MR3961331}.
Besides, the Conjecture 6.13 of 
\cite{demedrano2023chern} is true for 
compact integral affine manifolds
from Klingler's proof of Chern's conjecture for
special affine manifolds \cite{MR3665000}
since the Todd class of integral affine manifold
is trivial.

In this paper, we discuss
a geometrical meaning of $\opn{RR}(X;D)$
when $D$ is in several non-trivial cases.
We mainly consider it when $X$ is
a compact tropical surface, but we expect 
that there exists a generalization for
higher-dimensional compact tropical manifolds.

\subsection{Main results}

Firstly, we recall some elementary properties
of divisors on algebraic varieties. 
To clarify the similarities we wish to investigate,
we will recall them under strong conditions.

Let $D$ be a non-singular divisor on a non-singular
algebraic variety $X$, and a morphism  
$\iota\colon D\to X$ is the closed embedding.
Then, there exists the following exact sequence
of sheaves:
\begin{align}
     0\to \mathcal{O}_X(-D)\to 
\mathcal{O}_X\to \iota_*\mathcal{O}_D\to 0
\end{align}
From this, we get the following equation for the Euler
characteristic of the sheaf cohomology:
\begin{align}
\label{equation-anti-effective-divisor}
\chi(X;\mathcal{O}_X(-D))=\chi(X;\mathcal{O}_X)
-\chi(D;\mathcal{O}_D)
\end{align}
From \eqref{equation-anti-effective-divisor},
the conjecture below is very natural and 
seems to be believed among many researchers
before \cite{demedrano2023chern}, if
we mildly ignore a technical condition of 
tropical submanifolds
\cite[Definition 2.14]{demedrano2023chern} (see also
\cite[Definition 4.3]{shaw2015tropical}).

\begin{conjecture}[{Folklore?}]
\label{conjecture-rr-c-euler}
Let $X$ be a compact
(purely) $n$-dimensional tropical manifold and
$D$ a tropical submanifold of codimension $1$
on $X$ 
\cite[Definition 2.14]{demedrano2023chern}.
Then,
\begin{align}
\opn{RR}(X;-D)=
\chi_c (X\setminus D) (=\chi_c (X)-\chi_c(D))
\end{align}
where $\chi_c(X)$ is the Euler characteristic
with compact support of $X$.
\end{conjecture}

\begin{example}
If $\dim X=1$, then 
\cref{conjecture-rr-c-euler} is trivial.
Let $\dim X=2$ and $K_X$ the canonical cycle of
$X$ \cite[Definition 5.8]{MR2275625}.
The adjunction formula for tropical submanifold
of codimension $1$ on $X$
\cite[Theorem 6]{shaw2015tropical} gives
\begin{align}
\opn{RR}(X;-D)=\frac{\opn{deg}(D.D+K_X.D)}{2}+\opn{RR}(X;0)
=-\chi(D)+\opn{RR}(X;0).
\end{align}
where $K_X.D$ is the intersection of 
$K_X$ and $D$ in the meaning of \cite{shaw2015tropical}.
Therefore, if $X$ admits a Delzant face structure,
then \cref{conjecture-rr-c-euler} is true
by \cite[Theorem 6.3]{demedrano2023chern}.
(We will see the compatibility of different definition of
intersection numbers which is needed to prove it in
\cref{proposition-cycle-chern}.)
\end{example}

The main conjecture of this paper is the following 
which gives
the geometric meaning of $\opn{RR}(X;D)$, i.e.,
the dual of $\opn{RR}(X;-D)$.

\begin{conjecture}
\label{conjecture-rr-euler}
Let $D$ be a tropical submanifold of codimension 
$1$ of a $n$-dimensional compact tropical manifold $X$
\cite[Definition 2.14]{demedrano2023chern}.
If $D$ is in \emph{moderate position}
(\cref{definition-permissible-position}) on $X$,
then 
\begin{align}
\opn{RR}(X;D)=\sum_{k=0}^{n}\chi(|D^k|)=\chi(X\setminus D).
\end{align}
where $|D^{k}|$ is the support of the $k$-th power
of $D$ (\cref{notation-power-divisor}). 
\end{conjecture}
I believe that other researchers also expect
\cref{conjecture-rr-euler} as like
\cref{conjecture-rr-c-euler},
but \cref{conjecture-rr-euler} is more non-trivial than
\cref{conjecture-rr-c-euler}.
In fact, many tropical submanifolds are in moderate position,
but we can easily construct of tropical submanifolds
which are not in moderate position.

\begin{example}
\label{example-permissible-point}
Let $C$ be a compact tropical curve 
and $C_{\mathrm{reg}}$ the set of all
points whose valency are $2$.
A point $p$ on $C$ is in moderate position
if and only if $p\in C_{\mathrm{reg}}$.

From easy calculation, for any 
tropical submanifold $D$ of codimension $1$, i.e.,
finite subsets contained in $C_{\mathrm{reg}}$, we get
\begin{align}
\opn{RR}(C;D)=\sharp (D)+ \chi(C)
=\chi(C\setminus D).
\end{align}
Therefore, \cref{conjecture-rr-euler} is true
for $C$.
\end{example}
In \cref{example-TPn,remark-iass},
we will see other examples for evidence 
why it seems that \cref{conjecture-rr-euler}
is true.

なお、\cref{conjecture-rr-euler} の代数幾何学的な
背景については \cref{remark-rr-in-ag} にて説明する。
ただし、\cref{conjecture-rr-c-euler} よりも
トロピカル幾何学に由来する特殊な事情が絡んでいる。


One of interesting points of
\cref{conjecture-rr-c-euler,conjecture-rr-euler} is that
the complement of a tropical submanifold in
a tropical manifold is \emph{not} usually
considered an analog of Zariski open subset
of algebraic variety, but related with Riemann--Roch number.
For instance, the complement of two points 
on a tropical elliptic curve
$\mathbb{R}/\mathbb{Z}$ is disconnected.
This feature is far from that of the analytification of Zariski open subsets of
algebraic varieties.
(In fact, Mikhalkin defined
a tropical analog of the open subset of
a given polynomial as the complement of
the full graph \cite[\textsection 3.3]{MR2275625}
of a tropical polynomial in
\cite[Remark 3.5 and Example 3.6]{MR2275625}.)
% Besides, it must be noted that
% the rank of the cohomology 
% $H^{\bullet}(X\setminus D;\mathbb{R})$ 
% for a codimension-1 tropical submanifold
% on a compact $n$-dimensional tropical manifold
% may not behave like that of
% the sheaf cohomology 
% $\mathcal{O}_{\mathcal{X}}(\mathcal{D})$
% for a Cartier divisor $\mathcal{D}$ 
% on a complete algebraic variety
% $\mathcal{X}$ unlike
% $H^{\bullet}_c(X\setminus D;\mathbb{R})$.
Incidentally, the author arrived at
\cref{conjecture-rr-euler} as
a derivation from the study in
\cite{tsutsui2023graded}. 
We will see relationships between 
this paper and \cite{tsutsui2023graded}
in \cref{remark-c-infinity-divisor}.
(\cref{remark-c-infinity-divisor}で言及する関係性は、
トロピカル部分多様体の補集合のコホモロジーと
コンパクト台コホモロジーはともに直線束のホモジカルな
不変量に関するデータを一部内包していることを示唆している。)

One of main theorem in this paper
is the following, and its proof is not difficult:
\begin{theorem}[{Main theorem}]
\label{theorem-rr-euler-surface}
Let $D$ be a tropical submanifold of codimension $1$
in moderate position on a compact tropical manifold
$X$. Then,
\begin{align}
\chi(X\setminus D)=\frac{(D-K_X). D}{2}+
\chi(X).
\end{align}
\end{theorem}
From \cite[Theorem 6.3]{demedrano2023chern}
and \cref{theorem-rr-euler-surface}, we get
the following corollary:
\begin{corollary}
\label{corollary-ds-euler-rr}
If $X$ is a compact tropical surface admitting 
a Delzant face structure, then
\cref{conjecture-rr-euler} is true.
\end{corollary}
From this point, 
we will consider an extension of both
\cref{conjecture-rr-c-euler,conjecture-rr-euler}.
We recall well-known properties in algebraic geometry again.
Let $X$ be a nonsingular projective variety,
$D$ a nonsingular divisor on $X$ and
$\iota\colon D\to X$ the inclusion of $D$.
For any divisor $D'$ on $X$, we have
the short exact sequence:
\begin{align}
0 \to \mathcal{O}_X(D'-D)\to \mathcal{O}_X(D')
\to \mathcal{O}_X(D')
\otimes_{\mathcal{O}_X} \iota_*\mathcal{O}_D \to 0. 
\end{align}
From the projection formula for locally free sheaves,
we get 
\begin{align}
\chi(X;\mathcal{O}_X(D')\otimes_{\mathcal{O}_X} \iota_*\mathcal{O}_D)
=\chi(X;\iota_*(\iota^{*}\mathcal{O}_X(D')\otimes_{\mathcal{O}_D} \mathcal{O}_D))
=\chi(D;\iota^{*}\mathcal{O}_X(D')).
\end{align}

If $D'$ is nonsingular and the intersection
$D'\cap D$ is a nonsingular effective divisor
on $D$, then
\begin{align}
\chi(D;\iota^{*}\mathcal{O}_X(D'))=\chi(D;\mathcal{O}_D(D'\cap D)).
\end{align}
It may seem that 
the assumption for a pair $(D,D')$ above is
too strict.

However, through the application of the theorem of
Bertini, we can select a pair $(D,D')$ of divisors 
satisfying the condition above 
and $D_0=D'-D$ for a given divisor $D_0$ on $X$.
For such a pair, the following equation holds:
\begin{align}
\chi(X;\mathcal{O}_X(D'-D))=
\chi(X;\mathcal{O}_X(D'))-
\chi(D;\mathcal{O}_D(D'\cap D)).
\end{align}
By combining the observation and \cref{conjecture-rr-euler}, 
we can also expect the following conjecture:
\begin{conjecture}
\label{conjecture-rr-bertini}
Let $X$ be a compact $n$-dimensional
tropical manifold. 
Let $D,D'$ be tropical submanifolds of codimension $1$
on $X$ or empty.
Assume $D$ and $D'$ satisfy the following conditions:
\begin{enumerate}
\item $D'$ is in moderate position on $X$.
\item the restrction $D'|_{D}$ of $D'$ on $D$ is 
a tropical submanifold of $D$ such that its support is   
$D'\cap D$.
\item $D'\cap D$ is in moderate position on $D$.
\end{enumerate}
Then,
\begin{align}
\label{equation-rr-bertini}
\opn{RR}(X;D'-D)=\chi (X\setminus D')-
\chi(D\setminus (D'\cap D)).
\end{align}

\end{conjecture}

\begin{definition}
A pair $(D,D')$ of tropical submanifolds of codimension 
$1$ on a compact tropical manifold $X$ is 
\emph{in moderate position} if $(D,D')$ satisfies
the condition (1)-(3) in \cref{conjecture-rr-bertini}.
\end{definition}
In this paper, we won't discuss how many pairs of 
tropical submanifolds of codimension $1$ in moderate position,
but we expect there to be a sufficient number of them.

Instead, we will see that we can deduce
\cref{conjecture-rr-bertini} from 
\cref{conjecture-rr-euler} and 
a conjecture about the Todd class of tropical 
manifolds (\cref{conjecture-grr-divisor})
in \cref{proposition-euler-to-bertini}.
From this observation, we will
generalize \cref{theorem-rr-euler-surface}
to \cref{theorem-rr-bertini-surface}.
\begin{remark}
If both $D$ and $D'$ is empty, then
\cref{conjecture-rr-bertini} is equivalent to
\cite[Conjecture 6.13]{demedrano2023chern}.
\cref{conjecture-rr-bertini} is equivalent to
\cref{conjecture-rr-c-euler} when 
$D'$ is empty and $D$ is not.
\cref{conjecture-rr-euler} is 
equivalent to
\cref{conjecture-rr-c-euler} when 
$D$ is empty and $D'$ is not.
Therefore, we can consider 
\cref{conjecture-rr-bertini} as a generalization
of the three conjecture above.
Moreover, it is important that 
the RHS of \eqref{equation-rr-bertini} 
can be considered as a certain homological data.
This data also related with the study in 
\cite{tsutsui2023graded}, so we expect 
\cref{conjecture-rr-bertini} is highly related
with homological mirror symmetry.
\end{remark}

\subsection{Outline of this paper}
In \cref{section-on-rr-euler}, we mainly
discuss \cref{conjecture-rr-euler} and
give a proof of \cref{theorem-rr-euler-surface}.
In \cref{section-on-rr-bertini}, we mainly
discuss \cref{conjecture-rr-bertini,proposition-euler-to-bertini}.
We also give a generalization of
\cref{theorem-rr-euler-surface}.

\subsection*{Acknowledgement}
We would like to thank Kazushi Ueda for his continuous advice
and encouragement. We are also thankful to Kris Shaw
for answering my questions on
\cite{shaw2015tropical,demedrano2023chern}.
This work was partially supported 
by JSPS KAKENHI Grant Number JP21J14529 and JP21K18575.

\section{On \cref{conjecture-rr-euler}}
\label{section-on-rr-euler}
\subsection{Tropical manifolds}
In this subsection, we recall about 
the theory of tropical manifolds from
\cite{shaw2011tropical,MR3330789,mikhalkin2018tropical,MR4637248,demedrano2023chern}.
We also recall it from other references if necessary.
We mainly follow the sheaf theoretic approach of
tropical manifolds in \cite{MR4637248}.
\todo[inline]{
For simplicity, we adopt the definition of
rational polyhedral space
as used in \cite[Definition 6.1]{gross2019sheaftheoretic},
but we will not impose conditions related to finite type 
(e.g., \cite[Definition 7.1.14]{mikhalkin2018tropical} 
or \cite[Definition 2.3 (4)]{demedrano2023chern}).
}

If a tropical manifold is compact, we need not
taking care of the condition of finite type. 
Since every tropical manifold is paracompact and
locally contractible, the singular cohomology
of it is isomorphic to the sheaf cohomology
of the constant sheaf on it, so we identify
the two cohomologies.

\begin{notation}
Throughout this paper, $\mathbb{T}\deq 
\mathbb{R}\cup\{-\infty\}$.
Let $(X,\mathcal{O}_X^{\times})$ be a rational
polyhedral space \cite[Definition 2.2]{MR4637248}.
The \emph{dimension} $\dim X$ of $X$ is 
the homological dimension of locally compact
Hausdorff spaces (e.g.
\cite[Chapter III. Definition 9.4]{MR842190}).
The \emph{local dimension} of $X$ at $x\in X$
will be denoted by $\dim_x X$
\cite[Chapter III. Definition 9.10]{MR842190}.
A rational polyhedral space $(X,\mathcal{O}_X^{\times})$
is \emph{pure dimensional} if $\dim X$ is finite and
$\dim X=\dim_x X$ for any $x\in X$.
These definitions are compatible with
\cite[Definition 7.1.1]{mikhalkin2018tropical}.
We write $X_{\mathrm{reg}}$ for the set of points
which have an open neighborhood isomorphic to an
integral affine manifold
\cite[Definition 2.7]{MR4637248}
(see \cite{MR3894860}).
See also \cite[Definition 3]{MR2181810}
for the sheaf theoretical
definition of integral affine manifolds.
For a given loopless matroid $M$, let
$L_M$ be the \emph{tropical linear space} of
$M$ in the sense of \cite[\textsection 2.2]{MR4637248}.
When we consider $L_M$ as a tropical cycle on a vector
space, we say $L_M$ the matroidal tropical cycle associated
to $M$ like \cite{demedrano2023chern}.
We wirte $U_{r,n}$ for the uniform of matroid of rank $r$ 
over $[n]\deq \{1,\ldots,n\}$. 
\end{notation}

In this paper, a rational polyhedral subspace is meant
in the following sense.

\begin{definition}
Let 
$(X,\mathcal{O}_X^{\times})$ be a rational polyhedral space
and $Y$ a subspace of $X$.
A rational polyhedral space $(Y,\mathcal{O}_Y^{\times})$ is 
a \emph{rational polyhedral subspace} of
$(X,\mathcal{O}_X^{\times})$ if 
for any $x\in Y$, there exists a chart
$\psi \colon U \to V (\subset \mathbb{T}^{n})$
of $X$
such that $x\in U$ and the restriction
$\psi|_{U\cap Y}\colon U\cap Y\to 
\psi(U\cap Y)$ is also a chart of $Y$.
\end{definition}
We note that there exists rational polyhedral spaces
$(X,\mathcal{O}_X^{\times})$
and $(Y,\mathcal{O}_Y^{\times})$
such that $X=Y$ and the identity map of $X$ 
is a morphism from $(Y,\mathcal{O}_Y^{\times})$ to
$(X,\mathcal{O}_X^{\times})$ but not an isomorphism.
(We can construct such an example from a tropical analog of
Frobenius morphism.)
Every locally polyhedral set of a rational polyhedral space
\cite[Definition 2.4 (d)]{MR4637248} has a natural 
structure of a rational polyhedral subspace.

Let $(X,\mathcal{O}_X^{\times})$ be a rational polyhedral space
and $\opn{LC}_x X$ the local cone of $X$ at $x$ ($\in X$)
\cite[\textsection 2.2]{MR4637248}.
Follwoing \cite[Definition 7.1.8]{mikhalkin2018tropical} and 
\cite[Definition 2.3]{demedrano2023chern},
an \emph{atlas} of $X$ means a family 
$\{(U_i,\psi_i)\}_{i\in I}$ of charts 
$\psi_i\colon U_i\to V_i (\subset \mathbb{T}^{n_i})$
\cite[Definition 2.2]{MR4637248}
such that $\bigcup_{i\in I}U_i=X$.

Let $(X,\mathcal{O}_X^{\times})$ be
a rational polyhedral space which is regular at
infinity \cite[\textsection 6.1]{MR4637248}
(see also \cite[Definition 1.2]{MR3330789}
and \cite[Definition 7.2.4]{mikhalkin2018tropical}).

From definition, for any $x\in X$
\begin{align}
\opn{sed}_X(x)+\dim \opn{LC}_x X=\dim_x X.
\end{align}
The sedentarity function
$\opn{sed}_X$ is upper semiconstant, so 
$\opn{sed}_X$ is upper semicontinuous.
特に次の集合たちは、
$X$の閉部分集合である
(上半連続関数の定義は例えば\cite[p.287]{MR463157}
を見よ)。

Then, every $x\in X$ has an open neighborhood
which is isomorphic to an open subset of 
$\opn{LC}_x X\times \mathbb{T}^n$ for some
$n\in \mathbb{Z}_{\geq 0}$.
Every rational polyhedral space which is regular
at infinity has the sedentarity
$\opn{sed}_X$ on $X$
\cite[Definition 7.2.6]{mikhalkin2018tropical}
(see also \cite[Definition 2.4]{demedrano2023chern}).

Let $\Omega_{\mathbb{Z},X}\deq
\mathcal{O}_X^{\times}/\mathbb{R}_X$ be
the sheaf of tropical $1$-forms and
$H^{1,0}(X;\mathbb{Z})$ the global section of 
$\Omega_{\mathbb{Z},X}$.
Since every local cone has a polyhedral fan structure,
so $H^{1,0}(\opn{LC}_x X\times \mathbb{T}^n;\mathbb{Z})
\simeq H^{1,0}(\opn{LC}_x X;\mathbb{Z})\simeq 
(\Omega_{\mathbb{Z},X})_x$.

Let $\psi_x\colon U_x \to \opn{LC}_x X\times \mathbb{T}^n$

If $(X,\mathcal{O}_X^{\times})$ is a tropical manifold
in the sense of \cite[Definition 6.1]{gross2019sheaftheoretic},
there exists an atlas $\{(U_i,\psi_i)\}_{i\in I}$
such that for every chart $\psi_i \colon U_i \to V_i 
(\subset \mathbb{T}^{n_i})$,
$V_i$ is an open subset of $L_M\times \mathbb{T}^{m_i}$
($m_i\in \mathbb{Z}_{\geq 0}$) where 
$L_M$ is the support of
the Bergman fan for some loopless matroid $M$.


\begin{align}
X^{[\geq k]}\deq \{p\in X\mid \opn{sed}_X(p)\geq k\},
\quad 
X_{\infty}\deq X^{[\geq 1]}.
\end{align}
$X_{\infty}$ は、
$X$の境界(boundary)
と呼ばれ、
$\partial X$と書く場合がある。
($X$がトロピカルトーリック多様体のとき、
$X_{\infty}$が$X$の境界つき
位相多様体の境界となっていることと、
代数幾何におけるトーリック境界の
トロピカル類似になっていることに
由来していると思われる。)




Let $(X,\mathcal{O}_X^{\times})$ be a rational
polyhedral space and $(Y,\mathcal{O}_Y^{\times})$
a rational polyhedral subspace.
For every $x\in Y$, 
the inclusion map $\iota\colon Y\to X$ induces
an injection 
$\iota_{*,x}\colon \opn{LC}_x Y\to \opn{LC}_x X$
from the local cone $\opn{LC}_x Y$ of $Y$ at $x$ to 
that of $X$ at $x$.
(See \cite[\textsection 2.2]{MR4637248} for
the definition of the local cone.)
Besides, if
$(X,\mathcal{O}_X^{\times})$ and
$(Y,\mathcal{O}_Y^{\times})$ are
regular at infinity, 
the $x$
$f_{x}\colon \opn{LC}_x Y\times 
\underline{\mathbb{R}}^{r_{\alpha}}
\to \opn{LC}_x X\times \underline{\mathbb{R}}^{r_{\alpha'}}$
の制限として得られる。
十分に小さい $x$
の開近傍において$\mathcal{O}_X^{\times}(U)$は、
$T_x X\times \underline{\mathbb{R}}^{r_{\alpha}}$
上の大域的な$\mathbb{Z}$-アフィン関数と全単射である。
(\cite[Example 2.1]{MR4637248} でも説明されているように、
大域的ではない局所$\mathbb{Z}$-アフィン関数も存在する。)
特に、$(X,\mathcal{O}_X^{\times})$が regular at infinity
ならば、座標変換は
extended integer affine map \cite[Definition 2.2]{demedrano2023chern}
となることがこれよりわかる。よって
$(X,\mathcal{O}_X^{\times})$ 
が\cite[Definition 6.1]{gross2019sheaftheoretic}の意味での
コンパクトトロピカル多様体であるとき、
\cite[Definition 2.3]{demedrano2023chern}
の意味でのトロピカル多様体の構造を与えるアトラスを持つ。



\begin{definition}[{\cite[Definition 2.14]{demedrano2023chern}}]
$X$をトロピカル多様体とする。
あるトロピカルサイクルの台 $Y$ が
$X$のトロピカル部分多様体とは、
$Y$が有理多面部分空間として
トロピカル多様体かつ、
任意の点$x\in Y$の
局所錐の包含射
$\iota_{*,x}\colon \opn{LC}_x Y\to 
\opn{LC}_x X$
がある台集合を同じとする loopless マトロイド
$M,N$ が与える Bergman 扇の包含写像
$i \colon L_M\to L_N$
と同型であるものをいう。
\end{definition}

The support of every tropical cycle in a given
rational polyhedral space $(X,\mathcal{O}_X^{\times})$ is
a closed subset, so every tropical submanifold is
a closed set.

\begin{remark}
\cite[Example 2.15]{demedrano2023chern}でも強調されているように、
トロピカル多様体の閉部分多面空間がトロピカル多様体だとしても
トロピカル部分多様体であるとは限らない。
例えば、
\cite[Example 2.21]{shaw2015tropical}
における $C$ は、 valent が $3$ のトロピカル曲線
であるが、$P$ の部分トロピカル多様体ではない。
実際にこの埋め込みは、台集合を同じとするマトロイドに対する
包含関係$L_M\subset L_N$に由来しない。
その他の例については、
\cite{MR2594592} や \cite{MR3339531}
などを参照せよ。


\end{remark}


さらに言えば、$\opn{sed}_X$ は
semiconstant な関数なので、




$Y$ を $X$ 
のトロピカル部分多様体とし、
任意の点$x\in Y$に対して

\begin{align}
\opn{codim}(Y/X)\deq \dim X -\dim Y,\quad 
\opn{codim}_x(Y/X)\deq \dim_x X -\dim_x Y
\end{align}
とおくと、次が成り立つ。
\begin{align}
\opn{sed}_X(x)-\opn{sed}_Y(x)=
\opn{codim}_x(Y/X)-\opn{codim}_0(\opn{LC}_x Y/\opn{LC}_xX),
\end{align}
\begin{align}
\opn{codim}_x(Y/X) \geq 
\opn{sed}_X(x)-\opn{sed}_Y(x)\geq 0.
\end{align}

とくに $\opn{codim}_x(Y/X)=1$
のときは、$\opn{sed}_X(x)-\opn{sed}_Y(x)=0$ または
$1$ である。さらに、
$\opn{sed}_X(x)-\opn{sed}_Y(x)=1$のとき、
$\dim \opn{LC}_x Y=\dim \opn{LC}_x X$
なので トロピカル部分多様体の定義より
$\opn{LC}_x Y\simeq \opn{LC}_x X$
となる。
For $x\in Y$,
$\opn{sed}_X(x)=\opn{sed}_Y(x)$ 
のとき、$Y$ を $X$ の sedentarity-0 な
トロピカル部分多様体と呼ぶ。 

For $x\in X$, let 
$\opn{lineal}(X,x)$ be the (maximal) lineality space
$\opn{lineal}(\opn{LC}_x X)$ of 
$\opn{LC}_x X (\subset T_x X)$ \cite[\textsection 2.1]{MR4246795}
(see also \cite[\textsection 3]{demedrano2023chern}).



\begin{remark}
The lineality space of the local cone $\opn{LC}_x X$
at a point $x$ in a rational polyhedral space
$(X,\mathcal{O}_X^{\times})$ in the sense of 
\cite[\textsection 2.1]{MR4246795}
is equivalent to
the maximal lineality space of $\opn{LC}_x X$ in
\cite[\textsection 5]{MR3041763}.
We can check about this as follows:
Since every conical rational polyhedral set $P$ has an isomorphism
$P\simeq P/\opn{lineal}(P)\simeq \opn{lineal}(P)$, we
may assume $\opn{lineal}(P)$ is trivial.
Therefore, to see that the two coincide,
it is sufficient to observe that 
conical rational polyhedral sets
always possess a fan structure.
We can give a proof of it like
that of the existence theorem
of a triangulation of compact convex polyhedron
in $\mathbb{R}^{n}$ (cf. \cite[Theorem 2.11]{MR665919}):
From definition, every conical rational polyhedral set $P$
is the finite union $\bigcup_{i\in I}\sigma_i$ of 
rational polyhedral cones $\sigma_i$.
Besides, we may assume every $\sigma_i$ is strongly convex.
For every $i\in I$, there exists a
complete fan $\Sigma_i$ such that $\sigma_i\in\Sigma$.
(We can prove it by an application of Sumihiro's
compactification theorem for toric varieties
\cite[Theorem 3]{MR337963}.)
The refinement $\bigwedge_{i\in I}\Sigma_i$
of a family $\{\Sigma_i\}_{i\in I}$ of fans gives
a fan structure of $P$.
\end{remark}

\begin{definition}
\label{definition-permissible-position}
Let $X$ be a tropical manifold and $Y$ a
tropical submanifold of $X$.
$Y$ is in \emph{moderate position} on $X$ if
for any $x\in Y$
\begin{align}
     \opn{lineal}(Y,x) \subsetneq
 \opn{lineal}(X,x).
\end{align}
\end{definition}
We remark that
the complement $X\setminus Y$ of tropical submanifold
$Y$ in moderate position on $X$
does not usually satisfy the condition of finite type. 
\begin{example}
We retain the notation of 
\cref{definition-permissible-position}.
\begin{enumerate}
\item If $Y$ is in moderate position on $X$, then
$Y\cap\{x\in X\mid \opn{lineal}(X,x)=\{0\}\}
=\varnothing$.
\item $Y\cap X_{\mathrm{reg}}$ is in 
moderate position on $X_{\mathrm{reg}}$.
In particular, $Y$ is always in moderate position
when $X$ is an integral affine manifold.
\end{enumerate}
\end{example}

If $Y$ is in moderate position, then
the inclusion 
$\opn{LC}_x Y\to \opn{LC}_x X$ induces the following 
exact sequence:
% https://q.uiver.app/#q=WzAsMTAsWzEsMCwiXFxvcG57bGluZWFsfShZLHgpIl0sWzAsMCwiMCJdLFswLDEsIjAiXSxbMSwxLCJcXG9wbntsaW5lYWx9KFgseCkiXSxbMiwwLCJUX3ggWSJdLFsyLDEsIlRfeCBYIl0sWzMsMSwiVF94IFgvXFxvcG57bGluZWFsfShYLHgpIl0sWzMsMCwiVF94IFkvXFxvcG57bGluZWFsfShZLHgpIl0sWzQsMSwiMCJdLFs0LDAsIjAiXSxbMSwwXSxbMiwzXSxbNSw2XSxbNCw3XSxbNyw2XSxbMCwzXSxbMCw0XSxbMyw1XSxbNCw1XSxbNiw4XSxbNyw5XV0=
\[\begin{tikzcd}
	0 & {\opn{lineal}(Y,x)} & {T_x Y} & {T_x Y/\opn{lineal}(Y,x)} & 0 \\
	0 & {\opn{lineal}(X,x)} & {T_x X} & 
{T_x X/\opn{lineal}(X,x)} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-3, to=2-4]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=2-2, to=2-3]
	\arrow[from=1-3, to=2-3]
	\arrow[from=2-4, to=2-5]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}.\]




\begin{proposition}
\label{proposition-divisor-poincare}
Let $X$ be an purely 
$n$-dimensional compact integral
affine manifold and $D$ a tropical submanifold 
of codimension $1$.
Then, \cref{conjecture-rr-c-euler} is 
equivalent to
\cref{conjecture-rr-euler}. In particular,
\cref{conjecture-rr-euler} is true for
all compact integral affine manifolds when
\cite[Conjecture 6.13]{demedrano2023chern} is
true for any compact tropical manifold.
\end{proposition}
\begin{proof}
Since $X$ is an integral affine manifold,
$D$ is always in moderate position in $X$.
Since $\opn{td}(X)=1$, we have
\begin{align}
\label{equation-trivial-serre}
\opn{RR}(X;-D)=(-1)^{\dim X}\opn{RR}(X;D).
\end{align}
Besides, $X\setminus D$ is a topological manifold, 
and thus we have the following equation from 
the Poincar\'e duality:
\begin{align}
\label{equation-pd}
\chi_c(X\setminus D)=(-1)^{\dim X}\chi(X\setminus D).
\end{align}
Therefore, \cref{proposition-divisor-poincare} follows from
\cref{equation-trivial-serre} and
\cref{equation-pd}.
\end{proof}

\begin{remark}[{Integral affine manifolds with singularities}]
\label{remark-iass}
We expect that we can generalize
\cref{conjecture-rr-euler} and 
\cref{proposition-divisor-poincare}
for integral affine manifold with singularities
\cite{MR2213573,MR2181810,MR4347312}.
\todo[inline]{特異点つき整アフィン多様体の文献は十分か?}
Normally, integral affine manifolds with singularities
are analogs of complex manifolds whose canonical bundles
are numerically trivial. If $M$ is a compact and
connected complex manifold whose canonical bundle $K_M$ is
numerically trivial, then $c_1(K_M)$ is a torsion,
i.e., $l\cdot c_1(K_M)=0$ for 
some $l\in \mathbb{Z}_{>0}$.
From the Atiyah--Singer index formula and the Serre duality, 
for any divisor $D$ on $M$, we have
\begin{align}
\label{equation-calabi-yau-euler}
\chi(M;\mathcal{O}_M(-D))=(-1)^{\dim M}
\chi(M;\mathcal{O}_{M}(D)).
\end{align}
The equation \cref{equation-calabi-yau-euler} is
similar with
\cref{proposition-divisor-poincare}, and 
one of essential points of the proof of it
is that $X\setminus D$ is a topological manifold.
Hence, we expect that we can generalize
\cref{conjecture-rr-euler,conjecture-rr-bertini} for 
integral affine manifolds with singularities
and this description is compatible with
tropical contractions from tropical manifolds
to integral affine manifold with singularities
\cite{yamamoto2021tropical}.
\end{remark}

\begin{example}[{\cite[Example 2.11]{demedrano2023chern}}]
\label{example-TPn}
Let $e_i$ the $i$-th coordinate vector of $\mathbb{R}^n$
and $\Delta_{n}$ be the standard simplex generated by
$e_i$ ($i=1,\ldots,n$) and the origin of $\mathbb{R}^n$.
The normal fan $\Sigma$ of $\Delta_{n}$ induces 
a compactification $X_{\Sigma}$ of $\mathbb{R}^n$.
The space $X_{\Sigma}$ is a typical example of
tropical toric varieties \cite{MR2428356,MR2511632}
and $X_{\Sigma}$ is
isomorphic to the tropical projective
$n$-space $\mathbb{T}P^{n}$ \cite[Example 3.10]{MR2275625}.
From a direct calculation of the \v{C}ech cohomology of
$\mathcal{O}_{X_{\Sigma}}^{\times}$, we get 
$H^{1}(X;\mathcal{O}_{X_{\Sigma}}^{\times})
\simeq H^{1,1}(X;\mathbb{Z})\simeq \mathbb{Z}$.
In general, the Picard group of toric 
schemes over semifields is studied in \cite{MR4016643}. 
(See also  and
\cite[Chapter 3]{mikhalkin2018tropical} for more detail
about tropical toric varieties.)
Let $f$ be a Laurent polynomial on $\mathbb{R}^{n}$
whose Newton polytope is $d\Delta_{n}$.
The closure $\overline{V_{\mathbb{T}}(f)}$ of 
$V_{\mathbb{T}}(f)$ in $X_{\Sigma}$
is can be considered
as an analog of a hypersurface of projective $n$-space of
a homogenous polynomial of degree $d$
(see also \cite[Definition 3.4.6]{mikhalkin2018tropical}).
The degree of $\overline{V_{\mathbb{T}}(f)}$
on $\mathbb{T}P^n$ is equal to 
that of $f$ and the first Chern class 
of $\mathcal{L}(\overline{V_{\mathbb{T}}(f)})$.
The tropical hypersurface $V_{\mathbb{T}}(f)$ of $f$
is \emph{smooth} (in the sense of
\cite[\textsection 4.5]{MR3287221})
if the regular subdivision of $f$ is unimodular.
If $f$ the regular subdivision of $f$ is unimodular,
then $\overline{V_{\mathbb{T}}(f)}$ is a tropical manifold.
Let $d\Delta_n(\mathbb{Z})$ be the set of lattice points
in $d\Delta_n(\mathbb{Z})$ and 
$\opn{int}(d\Delta_n)(\mathbb{Z})$ the set of lattice points
in the (relative) interior of $d\Delta_n$.
It is well-known that the complement 
$\mathbb{T}P^{n}\setminus
\overline{V_{\mathbb{T}}(f)}$ is homotopy equivalent
to $d\Delta_n(\mathbb{Z})$ and 
$\overline{V_{\mathbb{T}}(f)}$ is homotopy equivalent
to the $\sharp (\opn{int}(d\Delta_n)(\mathbb{Z}))$-th
bouquet of $(n-1)$-spheres
(e.g. \cite[Proposition 3.1.6]{MR3287221}
or \cite[Proposition 3.4.12]{mikhalkin2018tropical}).
In particular, every connected component is a polyhedron in 
$\mathbb{T}P^{n}$, so it is contractible.
Moreover, the definition of Chern classes of
tropical toric manifolds is compatible with
that of algebraic toric manifolds
(cf. \cite[Proposition 13.1.2]{MR2810322}).
Therefore, the Todd class of $\mathbb{T}P^{n}$
also has the same representation of that of
algebraic toric manifolds
(see also \cite[Theorem 13.1.6]{MR2810322}). 
Therefore, we have
\begin{align}
\opn{RR}(\mathbb{T}P^{n};\overline{V_{\mathbb{T}}(f)})=
\sharp d\Delta_n(\mathbb{Z})=
\chi(\mathbb{T}P^{n}\setminus
\overline{V_{\mathbb{T}}(f)}).
\end{align}

We can also get the following equation in a similar way:
\begin{align}
\label{equation-int-polytope}
\opn{RR}(\mathbb{T}P^{n};-\overline{V_{\mathbb{T}}(f)})=
(-1)^{n}\sharp \opn{int}(d\Delta_n(\mathbb{Z}))=
\chi_{c}(\mathbb{T}P^{n}\setminus
\overline{V_{\mathbb{T}}(f)}).
\end{align}
The second equation of \eqref{equation-int-polytope}
follows from that 
$\chi_{c}(\mathbb{T}P^{n}\setminus
\overline{V_{\mathbb{T}}(f)})
=1-\chi (\overline{V_{\mathbb{T}}(f)})$
and $\overline{V_{\mathbb{T}}(f)}$ is homotopy 
equivalent to the bouquet
of $\sharp \opn{int}(d\Delta_n(\mathbb{Z}))$
$(n-1)$-dimensional spheres.
\end{example}

\begin{proposition}
Let $X$ be a tropical manifold and 
$Y$ a tropical submanifold of codimension $1$
in moderate position on $X$.
Then, $Y$ is a sedentarity-0 submanifold of $X$.
\end{proposition}
\begin{proof}
If $Y$ is in moderate position,
then $\opn{LC}_x Y\not \simeq \opn{LC}_x X$ for all 
$x \in Y$.
On the other hand, if $x \in Y$ satisfies 
$\opn{sed}_X(x)-\opn{sed}_Y(x)=1$, then
$\opn{LC}_x Y\simeq \opn{LC}_x X$.
Therefore, $\opn{sed}_X(x)-\opn{sed}_Y(x)=0$ when
$Y$ is in moderate position. 
\end{proof}
\subsection{Relatively uniform tropical submanifolds}
We define a good class of 
\begin{definition}
\label{definition-relatively-uniform}
Let $X$ be an $n$-dimensional tropical manifold $X$
and $\iota\colon D\to X$ is the embedding map of
a codimension-1 sedentarity-0 tropical submanifold
$D$ on $X$.
The tropical submanifold $D$ of $X$
is \emph{relatively uniform} on $X$ if, for any $x\in D$, 
the pushforward morphism
$\iota_{*x}\colon\opn{LC}_{x}D\to \opn{LC}_{x}X$ is isomorphic to
\begin{align}
\label{equation-relatively-uniform-map}
\opn{id}_{L_M}\times i\colon L_{M}\times L_{U_{r-1,r}}\to 
L_{M}\times L_{U_{r,r}}
\end{align}
where
$M$ is a loopless matroid, $r$ is a positive integer
and $i$ is the inclusion map induced from the inclusion
$U_{r,r+1}\subset U_{r+1,r+1}$. 
\end{definition}




We note that \eqref{equation-relatively-uniform-map}
itself can be represented by a matroidal map
induced from the parallel connection of matroids
(see \cite[Lemma 3.1]{MR4246795}
or \cite[Proposition 3.7]{demedrano2023chern}).

We mainly use techniques of Euler calculus
in order to prove \cref{theorem-euler-power}.

\begin{theorem}
\label{theorem-euler-power}
Let $X$ be a purely $n$-dimensional compact tropical manifold
and $D$ a relatively uniform tropical submanifold of
codimension $1$ on $X$. Then,
\begin{align}
\chi(X\setminus D)=\sum_{k=0}^{n}
\chi(|D^{k}|).
\end{align}
\end{theorem}
\begin{proof}
Let $j\colon X\setminus D\to X$ be the inclusion map.
Then, we have 
\begin{align}
H^{\bullet}(X\setminus D;\mathbb{R}_{X\setminus D})
\simeq \mathbb{H}^{\bullet}(X;Rj_*\mathbb{R}_{X\setminus D}).
\end{align}
Moreover, since $D$ is relatively uniform, we have
\begin{align}
\label{equation-local-index}
Rj_*\mathbb{R}_{X\setminus D}\simeq j_*\mathbb{R}_{X\setminus D},
\quad \chi((j_*\mathbb{R}_{X\setminus D})_x)=
\sum_{k=0}^{\infty}1_{|D^{k}|}(x).
\end{align}
Fix a finite tropical atlas $\mathcal{U}$ for $X$.
From inclusion exclusion principle and Meyer--Vietoris
sequence, we only need to check
\begin{align}
\label{equation-open-euler-calculus}
\chi(H^{\bullet}_c(U;(j_*\mathbb{R}_{X\setminus D})|_{U}))
=\sum_{k=0}^{\infty}\chi_c(|D^{k}|\cap U).
\end{align}
for any $(U,\phi)\in \mathcal{U}$.
Since $\mathbb{T}^{m}$ is homeomorphic to 
$\mathbb{R}_{\geq 0}^{m}$ via the extended exponential map
$\opn{exp}\colon \mathbb{T}^{m} \to \mathbb{R}_{\geq 0}^{m}$,
we may consider every rational
polyhedral set in some $\mathbb{T}^{m}$ as a
subanalytic set in $\mathbb{R}^{m}$.
From definition, we can choose an open subset $V$ of 
$\mathbb{R}^{m}$ such that $\opn{exp}\circ\phi(U)$ is
a closed subset of $V$.
The restriction of every rational polyhedral set in $\mathbb{T}^{n}$
on $V$ is also subanalytic \cite[Proposition 8.2.2.(iii)]{MR1299726}
on $V$. Let $\iota\deq \opn{exp}\circ \phi$.
Then, $\iota_*(j_*\mathbb{R}_{X\setminus D})|_{U}$
is an $\mathbb{R}$-constructible sheaf on $V$
\cite[Definition 8.4.3]{MR1299726}.
From \cite[Theorem 9.7.1]{MR1299726} and 
\eqref{equation-local-index}, we obtain
\eqref{equation-open-euler-calculus}.
\end{proof}

\subsection{For tropical surfaces}

For the proof of \cref{theorem-rr-euler-surface}, we 
use the following well-known 
proposition for Bergman fans: 
the support of the Bergman fan of
a loopless matroid of rank $2$ 
is isomorphic to the support of the Bergman fan of
a uniform matroid $U_{2,n}$ on
$[n]\deq \{0,\ldots,n-1\}$.
In fact, we can deduce it from that 
the supports of the Bergman fans of
loopless matroids are isomorphic
when the simplification of them are isomorphic
and the definition of simple matroid.
Shaw classified local cones which comes from
for some tropical surface in
\cite[Corollary 2.4]{shaw2015tropical}.


\begin{proposition}
\label{proposition-self-intersection}
Let $S$ be a compact tropical surface
and $C$ is a tropical submanifold of codimension $1$
in moderate position on $S$. Then, 
\begin{align}
     |C\cdot C|= C_{\mathrm{sing}}\cap S_{\mathrm{reg}}.
\end{align}
where $|C\cdot C|$ is the support of
the self-intersection of 
$C$ \cite[Definition 3.22]{shaw2015tropical}. 
\end{proposition}
\begin{proof}
First, we will see the classification of
the embeddings
$\opn{LC}_x C \subset \opn{LC}_x S$ of local cones.
If $C$ is in moderate position on $S$
$\dim \opn{lineal}(S,x)=1,2$ for any $x\in C$.
\begin{enumerate}[align=left,leftmargin=*]
\item Suppose $\dim \opn{lineal}(S,x)=2$.
Then, $\opn{LC}_x S\simeq \mathbb{R}^2$ and
$\opn{LC}_x C$ should be isomorphic to 
$L_{U_{2,3}}$ or $L_{U_{2,2}}$. 
In particular, $\opn{val}_C(x)=2,3$ in this case.
\item We assume $\dim \opn{lineal}(S,x)=1$. 
Then, $\dim \opn{lineal}(C,x)=0$.
In particular, $\opn{val}_C(x)\geq 3$.
From \cite[Corollary 2.4]{shaw2015tropical}, 
we may assume $\opn{LC}_x S\simeq L_{U_{2,m}}\times \mathbb{R}
\simeq L_{U_{2,m}\oplus U_{1,1}}$
$(m\geq 3)$.
From this description, we can check $\opn{val}_C(x)\leq m$.
In particular, we can consider $T_x C$ as 
a proper vector subspace of $T_x S$.
We fix an isomorphism 
$\opn{LC}_x S\to L_{U_{2,m}}\times \mathbb{R}$.
This isomorphism induces the isomorphism
$q\colon T_x S \simeq T_0(L_{U_{2,m}})\times \mathbb{R}$.
Then, $q(T_x C)= (q(T_x C)\cap T_0(L_{U_{2,m}}))\times
(\mathbb{R}\cap q(T_x C))$ for the canonical splitting of
$T_0(L_{U_{2,m}})\times \mathbb{R}$.

Besides, we can check 
$\opn{LC}_x C\cap \opn{lineal}(S,x)=\{0\}$
by indirect proof.
In fact, if $\opn{LC}_x C\cap \opn{lineal}(S,x)\ne \{0\}$,
then $q(T_x C)\cap T_0(L_{U_{2,m}})$ is a
proper subspace of $T_0(L_{U_{2,m}})$.
On the other hand,
the convex hull of $q(T_x C)\cap (L_{U_{2,m}}\times\{0\})$
does not contain any nontrivial vector subspace.
This contradicts with $\dim T_x C\geq 2$.

Since $\opn{LC}_x C\cap \opn{lineal}(S,x)=\{0\}$,
\end{enumerate}

実際に、$\opn{LC}_x C\cap \opn{lineal}(S,x)\ne \{0\}$
ならば、$T_x C \cap \opn{LC}_x S$ は、
$\Gamma_m$と真の部分線形空間との交叉と $\mathbb{R}$
の直積となる。この凸包は $T_x C$ の全体を張らないこととなり
矛盾する。
同じ理由から、$T_x C\cap \opn{lineal}(S,x)=\{0\}$である。
このとき、$T_x C\cap \opn{LC}_x S\simeq L_{U_{2,m}}$
である。よって、バランス条件から
$\opn{LC}_x C\simeq L_{U_{2,m}}$ である。
$\opn{LC}_x C$ と $\opn{lineal}(S,x)$ はマトロイドの交叉
とみなせるので、\cite[Theorem 4.2]{MR3032930}
と随伴公式\cite[Theorem 4.11]{shaw2015tropical} より、
$C$ の自己交点数は次のように書かれる。
\begin{align}
C . C=&\opn{deg}(K_C)-K_S . C \\
=& \sum_{p\in C_{\mathrm{sing}}}(\opn{val}(p)-2)
- \sum_{p\in C_{\mathrm{sing}}\cap S_{\mathrm{sing}}}
(\opn{val}(p)-2) \\
=& \sharp (C_{\mathrm{sing}}\cap S_{\mathrm{reg}}).
\end{align}

\end{proof}



\begin{proof}[{Proof of \cref{theorem-rr-euler-surface}}]
Let
$j\colon S\setminus C\to S$ be an inclusion map.
Then, the following equation holds:
\begin{align}
\chi(S\setminus C)=\chi(Rj_*\mathbb{Q}_{S\setminus C})
\deq \chi(\mathbb{H}^{\bullet}(S;Rj_*\mathbb{Q}_{S\setminus C})).
\end{align}
If $C$ is in moderate position on $S$, then
the classification of the local cone of $C$ gives 
\begin{align}
(Rj_*\mathbb{Q}_{S\setminus C})_x
\simeq
\begin{cases}
\mathbb{Q}[0], \text{ if } x\in S\setminus C, \\
\mathbb{Q}^3[0], \text{ if } x\in C_{\mathrm{sing}}
\cap S_{\mathrm{reg}}, \\
\mathbb{Q}^2[0], \text{ otherwise.}  
\end{cases}  
\end{align}
In particular, $Rj_*\mathbb{Q}_{S\setminus C}\simeq
j_*\mathbb{Q}_{S\setminus C}$.
Since $j^{-1}j_*=\opn{id}_{S\setminus C}$,  
from \cite[Proposition 2.3.6 (v)]{MR1299726}
there exists the following short exact sequence:
\begin{align}
0\to j_!\mathbb{Q}_{S\setminus C} 
\to j_* \mathbb{Q}_{S\setminus C}
\to (j_*\mathbb{Q}_{S\setminus C})_{C} \to 0
\end{align}
In particular, we have
\begin{align}
\chi(S\setminus C)=
\chi_c(S\setminus C)+\chi((j_*\mathbb{Q}_{S\setminus C})|_C).
\end{align}
From definition of the pushforward of sheaves, 
$(j_*\mathbb{Q}_{S\setminus C})|_C$ is locally constant 
on $C_{\opn{reg}}$ and the stalk of it is $\mathbb{Q}^2$.
Therefore, we also have
\begin{align}
\chi((j_*\mathbb{Q}_{S\setminus C})|_C)=
2\chi_c(C_{\mathrm{reg}})+
3\chi_c(C_{\mathrm{sing}}\cap S_{\mathrm{reg}})+
2\chi_c(C_{\mathrm{sing}}\cap S_{\mathrm{sing}}).
\end{align}
Therefore, 
\begin{align}
\label{equation-euler-calculus}
\chi(S\setminus C)&=
\chi_c(S\setminus C)+
3\chi_c(C_{\mathrm{sing}}
\cap S_{\mathrm{reg}})+
2\chi_c(C\setminus (C_{\mathrm{sing}}
\cap S_{\mathrm{reg}}))\\
&=\chi_c(S\setminus C)+2\chi_c(C)+
\chi_c(C_{\mathrm{sing}}
\cap S_{\mathrm{reg}}) \notag \\
&=\chi(S)+\chi(C)+\chi(|C\cdot C|) 
\label{equation-iterated-euler} \\
&=\chi(S)+C.C+\chi(C)
=\frac{C.(C-K_S)}{2}+\chi(S). \notag
\end{align}
\end{proof}
In the proof of \cref{theorem-rr-euler-surface}, we gave
various representations of $\chi(X\setminus S)$.
We would like to stress that both
\eqref{equation-iterated-euler} and 
\eqref{equation-euler-calculus} are important.

\begin{proof}[{Proof of \cref{corollary-ds-euler-rr}}]
It follows from
\cref{theorem-rr-euler-surface} and
\cref{proposition-cycle-chern}.
\end{proof}

\begin{remark}
In the proof of \cref{theorem-rr-euler-surface},
we considered $Rj_*\mathbb{Q}_{S\setminus C}$ to calculate
the Euler characteristic of $S\setminus C$.
This method is highly related with \emph{Euler calculus}
\cite{MR970076,MR1115569}.
Euler calculus is an effective way to calculate
the Euler characteristic of the sheaf cohomology of
constructible sheaves. We can consider 
the Euler characteristic of compact supports of 
locally closed subsets of $S$
as an analog of signed measure,
and the RHS of \cref{equation-euler-calculus} as an
integration of the following simple function over it
\cite[(3.4)]{MR1115569}:
\begin{align}
\chi(Rj_*\mathbb{Q}_{S\setminus C})(x)\deq \chi((Rj_*\mathbb{Q}_{S\setminus C})_x) 
\simeq \chi(\varinjlim_{U\ni x} H^{\bullet}((S\setminus C)
\cap U;\mathbb{Q})), \quad (x\in S).
\end{align}
The value $\chi(Rj_*\mathbb{Q}_{S\setminus C})(x)$ is
called the \emph{local Euler--Poincar\'e index} of 
$Rj_*\mathbb{Q}_{S\setminus C}$ at $x$.
Euler calculus is also a useful way to
investigate other constructible sheaves
on tropical manifolds.
As stressed in \cite[Remark 4.8]{MR4540954},
we can interpret the first equation of 
the tropical Poincar\'e--Hopf theorem
\cite[Theorem 4.7]{MR4540954} as 
the Euler integration of the total complex
$\Omega^{\bullet}_{\mathbb{Z},X}$ of the sheaves of
tropical $p$-forms.
\end{remark}
% \begin{example}
% $\opn{deg}(F)=d$, $\opn{deg}(G)=e$とする。
% \begin{align}
% (V(G)|_{V(F)})^{2}+K_{V(G)}.(V(G)|_{V(F)})
% =e^2d+(d-4)ed=e^2d+d^2e-4de
% \end{align}

% \end{example}

\begin{remark}
\label{remark-c-infinity-divisor}
In this remark, we discuss relationships
between \cref{conjecture-rr-euler} and 
\cite{tsutsui2023graded}.
This remark highly depends on
\cite{tsutsui2023graded}, and you can
skip this remark to understand the main theorem of  
this paper. As explained in the introduction of this paper,
the Euler characteristic 
$\chi_c(X\setminus D)\deq \chi_c(X)-\chi_c(D)$ of 
the complement of a tropical submanifold $D$ on
a compact tropical manifold $X$ is an analog of  
\cref{equation-anti-effective-divisor}, so 
it is natural to expect that \cref{conjecture-rr-c-euler} holds.
On the other hand, the author does not know some theorem
in algebraic geometry or Berkovich geometry
which suggests \cref{conjecture-rr-euler} directly
as like \cref{conjecture-rr-c-euler}
(except toric varieties or special cases like them).
On the other hand, based on the study in \cite{tsutsui2023graded},
we can expect that 
$H^{\bullet}(X\setminus D)$ is highly related with
the theory of Floer cohomology of
Lagrangian submanifolds, homological mirror symmetry
and the Strominger--Yau--Zaslow conjecture.
Below, we will see about it by using examples. 
For simplicity, let 
$X$ be $\mathbb{R}/\mathbb{Z}$ and $D$ a finite subset of
$X$. Then, the following isomorphisms of graded modules hold:
\begin{align}
H^{\bullet}(X\setminus D;\mathbb{Z}) 
&\simeq \bigoplus_{E\in \pi_0(X\setminus D)} 
H^{\bullet}(E;\mathbb{Z})
\simeq \bigoplus_{E\in \pi_0(X\setminus D)} \mathbb{Z}[0], \\
H_c(X\setminus D;\mathbb{Z}) 
&\simeq \bigoplus_{E\in \pi_0(X\setminus D)} 
H^{\bullet}_c(E;\mathbb{Z})
\simeq \bigoplus_{E\in \pi_0(X\setminus D)} \mathbb{Z}[-1].
\end{align}

We can also define similar graded modules
for $C^{\infty}$-divisors on $X$.
In \cite{tsutsui2023graded},
the author proposed the following approach
inspired from microlocal sheaf theory and
the Strominger--Yau--Zaslow conjecture.

Let $\mathcal{A}^{0,0}_X$ be the sheaf of
$(0,0)$-superforms on $X$
\cite[Definition 2.24]{MR3903579}.
Then, the following exact sequence exists:
\begin{align}
0\to \mathcal{O}_X^{\times} \to \mathcal{A}^{0,0}_X
\to \mathcal{A}^{0,0}_X/\mathcal{O}_X^{\times} \to 0.
\end{align}

Since $\mathcal{A}^{0,0}_X$ is acyclic,
the connecting homomorphism
\begin{align}
H^{0}(X;\mathcal{A}^{0,0}_X/\mathcal{O}_X^{\times})
\to H^{1}(X;\mathcal{O}_X^{\times}); s\mapsto \mathcal{L}(s).
\end{align}
is surjective. The group 
$\opn{Div}^{\infty}(X)\deq 
H^{0}(X;\mathcal{A}^{0,0}_X/\mathcal{O}_X^{\times})$
is an analog of the group of Cartier divisors
when $X$ is a boundaryless tropical manifold.
In \cite{tsutsui2023graded}, elements 
in $\opn{Div}^{\infty}(X)$ are called 
\emph{$C^{\infty}$-divisors} on $X$.
We note that the author 
defined the group of $C^{\infty}$-divisor for \emph{any}
tropical manifold in \cite{tsutsui2023graded}.
If $B$ is an integral affine manifold,
then every $C^{\infty}$-divisor defines
a Lagrangian section of the standard Lagrangian
torus fibration $\check{f}_B\colon \check{X}(B)\to B$
on $B$, we can consider $C^{\infty}$-divisors on
tropical manifolds as derivative objects
of Lagrangian sections.

For a given finite set $D$ on
$X=\mathbb{R}/\mathbb{Z}$,
we can find a $C^{\infty}$-divisor $s$ on $X$
such that $\mathcal{L}(D)=\mathcal{L}(s)$ as follows.
Let $\pi\colon \mathbb{R}\to \mathbb{R}/\mathbb{Z}$
be the canonical universal covering.
The pullback $\pi^* D$ is a principal divisor 
of a convex function $f$ on $\mathbb{R}$ such that 
the set of strictly convex points of $f$ is $\pi^{-1}(D)$
and satisfies a quasi-periodicity.
By smoothing of $f$, we can find a quasi-periodic
convex $C^{\infty}$-function $g$ such that $f(x)=g(x)$ on 
the complement of a sufficiently 
small neighborhood of $\pi^{-1}(D)$. 
This $g$ gives a $C^{\infty}$-divisor $s_1$ on
$X$ such that the associated line bundle on $X$ is equal
to $\mathcal{L}(D)$.
Moreover, we can deform $s_1$ to another 
linearly equivalent 
$C^{\infty}$-divisor $s_2$ on $X$ such that 
the intersection $s_0\cap s_2\deq 
L_{0}\cap L_{s_2}$ of the associated 
Lagrangian section $L_{s_2}$
of $s_2$ and the zero section $L_0$ is contained in 
$X\setminus D$ and $\sharp (E\cap L_{0}\cap L_{s_2})=1$
for any $E\in \pi_0(X\setminus D)$.
Then, $s_2$ is a \emph{permissible} 
$C^{\infty}$-divisor and $\pi^{*}s_2$ is the 
principal divisor of a strictly convex
$C^{\infty}$-function. 
In \cite{tsutsui2023graded}, the author
defined the graded module $\opn{LMD}^{\bullet}(X;s)$
for a permissible $C^{\infty}$-divisor $s$ on
a compact tropical manifold.
By using the theory of \cite{demedrano2023chern}
we can refine the Conjecture 1.2 in 
\cite{tsutsui2023graded}
like this: the Euler characteristic of
$\opn{LMD}^{\bullet}(X;s)$ 
is equal to the Riemann--Roch number of 
$\mathcal{L}(s)$.
(\cite[Conjecture 1.2]{tsutsui2023graded} does not
give an explicit definition of the Riemann--Roch number
since this conjecture appeared before
\cite{demedrano2023chern}.)
\todo[inline]{直前の説明は失礼に当たらないか大丈夫？}


If $X=\mathbb{R}/\mathbb{Z}$, then 
$X$ is an integral affine manifold and  
the graded module $\opn{LMD}^{\bullet}(X;s_2)$
for $s_2$ is isomorphic to the Floer complex
associated with the Lagrangian section $L_{s_2}$
of $s_2$ \cite[Remark 13]{MR1882331} as a graded
module (see also \cite[\textsection 4.4]{tsutsui2023graded}
for more detail about it). In our case, we have 
the following isomorphisms:
\begin{align}
\opn{LMD}^{\bullet}(X;s_{2}) &\simeq 
\bigoplus_{p\in s_0\cap s_{2}}\mathbb{Z}[0]
\simeq H^{\bullet}(X\setminus D;\mathbb{Z}), \\
\opn{LMD}^{\bullet}(X;-s_{2}) &\simeq
\bigoplus_{p\in s_0\cap s_{2}}\mathbb{Z}[-1]
\simeq H^{\bullet}_c(X\setminus D;\mathbb{Z}).
\end{align}
The method presented here is indeed not canonical,
but the isomorphisms are not coincidences. In fact, 
a similar logic works for tropical toric varieties.

Let $P$ be a top dimensional lattice polytope
in $\mathbb{Z}^{n}$ and $X_P$ tropical toric variety
of $P$. Recall that,
if $f$ is a tropical Laurent polynomial on 
$\mathbb{R}^{n}$ 
whose Newton polynomial is $P$ and the regular
subdivision of $f$ is unimodular, then the closure
$\overline{V(f)}$ of
the hypersurface of $f$ in $X_P$ is a tropical submanifold
of $X_P$ and the set of connected component of 
$X_P\setminus \overline{V(f)}$ is bijective with the set $P(\mathbb{Z})$
of lattice points in $P$.
By using the method the Maslov dequantization 
of a family of nonnegative valued Laurent polynomial
which converges to $f$, we get a 
$C^{\infty}$-divisor $s_f$ on $X_P$ whose line bundle is
isomorphic to that of $\overline{V(f)}$, 
$s_0\cap s_{f}\subset X_P\setminus \overline{V(f)}$,
and $\pi_0(s_0\cap s_{f})$ is bijective with 
$\pi_0(X_P\setminus \overline{V(f)})$.
Then, we have
\begin{align}
\opn{LMD}^{\bullet}(X_P;s_{f})
&\simeq \bigoplus_{p\in P\cap \mathbb{Z}^{n}}\mathbb{Z}[0]
\simeq \bigoplus_{W\in \pi_0(X_P\setminus \overline{V(f)})}
H^{\bullet}(W;\mathbb{Z}) \notag \\
&\simeq H^{\bullet}(X_P\setminus \overline{V(f)};\mathbb{Z}), \\
\opn{LMD}^{\bullet}(X_P;-s_{f})
&\simeq \bigoplus_{p\in \opn{int}(P)(\mathbb{Z})}
\mathbb{Z}[-\dim X_P]
\simeq \bigoplus_{W\in \pi_0(X_P\setminus \overline{V(f)})}
H^{\bullet}_c(W;\mathbb{Z}) \notag \\
&\simeq H^{\bullet}_c(X_P\setminus \overline{V(f)};\mathbb{Z}).
\end{align}

See \cite[Appendix D]{tsutsui2023graded}
for more detail about $C^{\infty}$-divisors on
tropical toric manifolds associated with lattice polytopes.

From these examples, it seems that the cohomology
of the complement of tropical submanifold $D$ of codimension
$1$ on a compact tropical manifold $X$ has a piece of data of
homological invariant of $\mathcal{L}(D)$.
From analogy of Floer cohomology,
the author expects that we can define the cohomology
of $\mathcal{L}(D)$ if we can define a good 
``Floer differential'' for the graded module
$H^{\bullet}(X\setminus D)$ (over some Novikov field).
One of reason why we need some ``Floer differential'' for
$H^{\bullet}(X\setminus D)$ is explained
in \cref{remark-complement-cohomology}.
We also note that 
Demazure's theorem \cite{MR284446} is also related
with this remark 
(see also \cite[\textsection 9.1]{MR2810322}).
\end{remark}

\begin{remark}
\label{remark-complement-cohomology}
Let $C$ be a compact tropical curve and $D$
a finite set of $C\setminus C_{\mathrm{sing}}$.
Then, there exist the following relationships
between the rank of cohomology of compact support
of $C\setminus D$ and that of Baker--Norine rank
$r(D)$ of $D$ \cite[Definition 1.12]{MR2377750}: 
\begin{align}
\label{equation-bn-rank-negative}
\opn{rank} H_c^{0}(C\setminus D)=r(D)+1=0, \quad
\opn{rank} H_c^{1}(C\setminus D)=r(K_C-D)+1.
\end{align}
The Baker--Norine rank $r(D)$ is a analog of 
the rank of linear systems of divisors on
algebraic varieties.
There is an explanation that the Baker--Norine
rank is truly a good analog of the rank of linear systems
in \cite{MR2448666}.
From \eqref{equation-bn-rank-negative},
we can say the rank of $H_c^{\bullet}(C\setminus D)$
also behave like the cohomology of a line bundle on
an algebraic variety.
On the other hand, the cohomology
$H^{\bullet}(C\setminus D)$ does not necessarily behave
as an analog of the cohomology of a line bundle on
an algebraic variety.

From now on, let $C$ be a compact tropical curve
of genus $2$ like the Figure 1 of
\cite{MR2457739}.
\todo[inline]{絵を描くべき？}
Let $E$ be a connected component of  
 $C\setminus C_{\mathrm{sing}}$, and
$D$ a nonempty finite subset of $E$. 
Then,
\begin{align}
\label{equation-cohomology-behaviour}
\opn{rank} H^{0}(C\setminus D)=\sharp(D), \quad
\opn{rank} H^{1}(C\setminus D)=1.
\end{align}

On the other hand, $\opn{deg}(K_C-D)=2-\sharp (D)$.
Therefore, when $\sharp (D)>2$, we get
\begin{align}
\label{equation-rank-behaviour}
r(D)+1=\sharp(D)-1,\quad r(K_C-D)+1=0.
\end{align}
In particular, 
$\opn{rank} H^{0}(C\setminus D)>r(D)+1$ in this case.
The equation $\opn{rank} H^{1}(C\setminus D)=1$ is
independent of the degree of $D$.
It is a very different point from behavior of 
the cohomology of invertible sheaves on algebraic varieties.
This is a main reason why we stress 
that we need to define a ``Floer differential'' for 
$H^{\bullet}(C\setminus D)$ in order to capture a
homological data of tropical line bundles 
in \cref{remark-c-infinity-divisor}.

We expect that we can define such an appropriate
differential of $H^{\bullet}(C\setminus D)$
by a combinatorial way as an analog of
the Floer complex of Lagrangian sections on 
trivalent graphs
\cite{auroux2022lagrangian}.
We also expect the homological mirror symmetry
gives a new perspective on the specialization
inequality of the Baker--Norine rank 
\cite[Lemma 2.8]{MR2448666}. 
\end{remark}


\section{On \cref{conjecture-rr-bertini}}
\label{section-on-rr-bertini}
In this section, we discuss \cref{conjecture-rr-bertini}.
In order to discuss \cref{conjecture-rr-bertini},
we need preparation from the theory of tropical homology
and Chern classes of tropical manifolds.
First, we note 
the theory of Chern classes of tropical manifold
\cite{demedrano2023chern} is new and 
the Chern(--Schwartz--MacPherson) class of
tropical manifolds is not defined from a direct analog
of the theory of vector bundles on algebraic varieties.
Therefore, there is much that is not sufficiently
understood about Chern classes of tropical manifolds.
(The theory of tropical vector bundle is studied
in \cite{MR2961320,MR4646329} or 
\cite[Theorem 1.8]{amini2020hodge}.)
On the other hand, we can use facts 
which arise from elementary properties
multiplicative sequences (or $m$-sequences)
\cite[\textsection 1]{MR1335917}
(see also \cite[\textsection 19]{MR440554}).
Even from these properties alone,
we can investigate the Todd classes of tropical manifolds
to some extent.

In this section, we mainly
discuss about properties which 
the Todd classes should have if
a natural conjecture for
tropical Chern classes
(\cref{conjecture-grr-divisor}) holds.
We also prove a generalization of 
\cref{theorem-rr-euler-surface}
in \cref{theorem-rr-bertini-surface}.

\subsection{Tropical homology}
In this subsection, we recall
the theory of tropical homology from
\cite{MR3330789,MR3894860,MR4637248}.
In this subsection, let
$Q$ be a subring of $\mathbb{R}$
and $p,q\in \mathbb{Z}$.
Let $(X,\mathcal{O}_X^{\times})$ be
a rational polyhedral space and 
$\Omega_{\mathbb{Z},X}^{p}$
the sheaf of tropical $p$-forms
on $X$ \cite[Definition 2.7]{MR4637248}
(cf. \cite[\textsection 2.4]{MR3330789}).
Let $\upomega_{X}^{\bullet}$ be
the dualizing complex of $X$
(e.g. \cite[Definition 3.1.16]{MR1299726}.)
The $(p,q)$-tropical cohomology
$H^{p,q}(X;Q)$ and 
$(p,q)$-tropical Borel--Moore homology
$H_{p,q}^{\mathrm{BM}}(X;Q)$ of $(X,\mathcal{O}_X)$
are the following $Q$-modules
\cite[Definition 4.1 and 4.3]{MR4637248}:
\begin{align}
H^{p,q}(X;Q)&\deq \opn{Hom}_{D^{b}(\mathbb{Z}_X)}(
\mathbb{Z}_X,\Omega_{\mathbb{Z},X}^{p}[q])
\otimes_{\mathbb{Z}} Q, \\
H_{p,q}^{\mathrm{BM}}(X;Q)
&\deq \opn{Hom}_{D^{b}(\mathbb{Z}_X)}
(\Omega_{\mathbb{Z},X}^{p}[q],\upomega_{X}^{\bullet})
\otimes_{\mathbb{Z}}Q.
\end{align}

For comparison with the original
tropical homology \cite{MR3330789,MR3961331},
see also \cite[Remark 2.8 and Theorem 4.20]{MR4637248}.
Let $\Omega_{\mathbb{Z},X}^{\bullet}
\deq \bigoplus_{j\in \mathbb{Z}_{\geq 0}}
\Omega_{\mathbb{Z},X}^{j}[-j]$ 
be the total complex of 
$\Omega_{X}^{p}$ 
(see \cite[Proposition 3.1]{smacka2017differential}).
Since $\Omega_{\mathbb{Z},X}^{\bullet}$ is a sheaf
of trivial and graded-commutative dga, so the
hypercohomology 
$\mathbb{H}^{\bullet}(X;\Omega_{\mathbb{Z},X}^{\bullet})$
of $\Omega_{\mathbb{Z},X}^{\bullet}$ has
a natural graded-commutative ring structure
(see \cite[Remark 21.130]{gortzwedhorn2023}).
Besides, $\Omega_{\mathbb{Z},X}^{\bullet}$ is trivial,
so there exists an isomorphism
$\mathbb{H}^{\bullet}(X;\Omega_{\mathbb{Z},X}^{\bullet})
\simeq \bigoplus_{p,q\in \mathbb{Z}}
H^{p,q}(X;\mathbb{Z})$ as Abelian groups.
If $f\colon X\to Y$ is a morphism of
rational polyhedral spaces, then
$f$ induces the pullback
$f^{*}\colon \mathbb{H}^{\bullet}(Y;\Omega_{\mathbb{Z},Y}^{\bullet})
\to \mathbb{H}^{\bullet}(X;\Omega_{\mathbb{Z},X}^{\bullet})$
\cite[Proposition 4.18]{MR4637248} and $f^{*}$ is
a graded ring homomorphism.
If $f\colon X\to Y$ is a proper morphism, then
$f$ induces the pushforward 
$f_*\colon H^{\opn{BM}}_{p,q}(X;Q)\to 
H^{\opn{BM}}_{p,q}(Y;Q)$ \cite[Definition 4.9]{MR4637248}.

Let $Z_k(X)$ be the group of tropical $k$-cycles
on $X$ \cite[Definition 3.5]{MR4637248}.
The presheaf $U\to Z_k(U)$ on $X$ is a sheaf,
and we write $\mathscr{Z}_k^{X}$ for it
\cite[p.591]{MR4637248}.
For any $k\in \mathbb{Z}_{\geq 0}$, there
exists the \emph{cycle map}
$\opn{cyc}_X \colon Z_k(X)\to 
H^{\mathrm{BM}}_{k,k}(X;\mathbb{Z})$
and $f_*\circ \opn{cyc}_X=\opn{cyc}_Y \circ f_*$
for any proper morphism $f\colon X\to Y$ of rational
spaces \cite[Definition 5.4 and Corollary 5.8]{MR4637248}
(see also \cite[Definition 4.13]{MR3894860}).
A purely $n$-dimensional rational polyhedral space
$(X,\mathcal{O}_X^{\times})$
\emph{admits a fundamental class} if
$X$ is the constant function on 
$X$ with value $1$ forms
an $n$-dimensional tropical cycle
$1_{X_{\mathrm{reg}}}$
\cite[\textsection 6.1]{MR4637248},
and the image of it by the cycle map
$[X]\in H_{n,n}^{\mathrm{BM}}(X;\mathbb{Z})$ 
is called the \emph{fundamental class} of $X$
(see also \cite[Definition 4.8]{MR3894860}).
From definition,
$H_{n,n}^{\mathrm{BM}}
(X;\mathbb{Z})\deq \opn{Hom}_{D^{b}(\mathbb{Z}_X)}
(\Omega_{X}^{n}[n],\upomega_{X}^{\bullet})$, so
the multiplicative structure of $\Omega_X^{\bullet}$
and the fundamental class of $X$ induces
the following morphism:
\begin{align}
\eta_{p}^{X}\colon \Omega_X^{n-p}[n]\otimes^{L}_{\mathbb{Z}_X}
\Omega_X^{p} \to \Omega_X^{n}[n] \xto{[X]}
\upomega_X^{\bullet}. 	
\end{align}
The tensor-hom adjunction of $\eta_{p}^{X}$ is
the following \cite[p.627]{MR4637248}:
\begin{align}
\delta_p^{X}\colon \Omega_X^{n-p}[n]\to 
\mathcal{D}_{\mathbb{Z}_X}(\Omega_X^{p})
\deq R\mathcal{H}om_{\mathbb{Z}_X}(\Omega_X^{p},
\upomega_X^{\bullet}).
\end{align}
Of course, $\delta_0^{X}=[X]$.

Besides, the natural isomorphism from
$\opn{Hom}_{D^{b}(\mathbb{Z}_X)}(- 
\otimes^{L}_{\mathbb{Z}_X} \Omega_X^{p}[q],
\upomega_X^{\bullet})$ to 
$\opn{Hom}_{D^{b}(\mathbb{Z}_X)}(-,
\mathcal{D}_{\mathbb{Z}_X}(\Omega_X^{p}[q]))$
gives the following commutative diagram
for any $\alpha \colon \mathbb{Z}_X\to \Omega_X^{n-p}[n-q]$:
\[\begin{tikzcd}
{\opn{Hom}_{D^{b}(\mathbb{Z}_X)}(\Omega_X^{n-p}[n-q]
\otimes^{L}_{\mathbb{Z}_X} \Omega_X^{p}[q]
,\upomega_X^{\bullet})} & 
{\opn{Hom}_{D^{b}(\mathbb{Z}_X)}
(\Omega_X^{n-p}[n-q],\mathcal{D}_{\mathbb{Z}_X}(\Omega_X^{p}[q]))} \\
{\opn{Hom}_{D^{b}(\mathbb{Z}_X)}(\Omega^{p}[q],
\upomega_X^{\bullet})} & {\opn{Hom}_{D^{b}(\mathbb{Z}_X)}(\mathbb{Z}_X,\mathcal{D}_{\mathbb{Z}_X}(\Omega^{p}[q]))}.
	\arrow[from=1-2, to=2-2]
	\arrow[from=2-1, to=2-2]
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
\end{tikzcd}\]
The morphism of each row of
this commutative diagram is an isomorphism.
In particular,
the image of $\eta^X_{p}$ by the homomorphism
on the left column of this commutative diagram
is the cap product $\alpha\frown [X]$
of $\alpha$ and $[X]$ \cite[\textsection 4.6]{MR4637248}.
(For the sake of visibility, we have reversed 
the action as in \cite[\textsection 4.6]{MR4637248}.)
Therefore, we can identify
the homomorphism
\begin{align}
\mathbb{H}^{-q}(\delta_p^{X})
\colon H^{n-p,n-q}(X;\mathbb{Z})
\to \mathbb{H}^{-q}(X;\mathcal{D}_{\mathbb{Z}_X}
(\Omega_X^{p})) \notag
\end{align}
with the cap product homomorphism
\begin{align}
\label{equation-PD-map}
\cdot \frown [X]
\colon H^{n-p,n-q}(X;\mathbb{Z})
\to
H^{\mathrm{BM}}_{p,q}(X;\mathbb{Z}).
\end{align}

In particular, if $X$ is compact,
then the unique morphism 
$a_X\colon X\to \{\mathrm{pt}\}$
to $\{\mathrm{pt}\}$
defines the trace map
$\int_X c\deq a_{X*}(c\frown [X])\in 
H_{0,0}^{\mathrm{BM}}(\{\mathrm{pt}\};\mathbb{Z})
\simeq \mathbb{Z}$ for
$c\in H^{\bullet,\bullet}(X;\mathbb{Z})$.

任意の $k\in \mathbb{Z}_{\geq 0}$ に対して
$\delta_{k}^{X}$ が同型射であるとき,
$(X,\mathcal{O}_X^{\times})$ は
\emph{Poincar\'e--Verdier duality}
を満たすと呼ぶ \cite[Definition 6.4]{MR4637248}。
有理多面空間が Poincar\'e--Verdier duality を満たすとき、
\cref{equation-PD-map} は同型射となる。
なお、$X$ が global な面構造を持つ場合の、
基本類のカップ積による上述の同型は、
\cite[Theorem 5.3]{MR3894860} にて初めて示された。


トロピカル多様体が
Poincar\'e--Verdier duality を満たすことは、
Bergman fan に対する Poincar\'e duality
\cite[Proposition 5.5]{MR3894860} と
\cite[Theorem 6.7]{MR4637248}
より分かる。
\todo[inline]{これで文献は十分か？}
For simplicity, we will use the following notation.
\begin{notation}
Let $(X,\mathcal{O}_X^{\times})$ be
a rational polyhedral space admitting
a fundamental class $[X]$ which satisfies
Poincar\'e--Verdier duality.
We write $\opn{PD}_X$ for the inverse of
the cap product homomorphism $\cdot \frown [X]$,
and $\PD{Z}\deq \opn{PD}_X(Z)$ for all 
$Z\in H^{\mathrm{BM}}_{p,q}(X;\mathbb{Z})$.
\end{notation}


Every rational polyhedral space $(X,\mathcal{O}_X^{\times})$
has the following exact sequence:
\begin{align}
\label{equation-tropical-exp}
0\to \mathbb{R}_X \to 
\mathcal{O}_X^{\times} \to \Omega_{\mathbb{Z},X}^{1}\to 0.
\end{align}
The exact sequence \eqref{equation-tropical-exp}
defines
the connecting homomorphism
$\phi \colon H^{1,1}(X;\mathbb{Z})
\to H^{0,2}(X;\mathbb{R})$.
$\phi$ の双対概念として
eigenwave homomorphism
$\hat{\phi} \colon
H_{n-1,n-1}^{\mathrm{BM}}(X;\mathbb{Z})
\to H_{n,n-2}^{\mathrm{BM}}(X;\mathbb{R})$
が存在する \cite[(5.2)]{MR3330789}
(see also \cite[Definition 2.9]{MR3894860}).
In fact both of them are compatible with 
the Poincar\'e duality for tropical manifolds
admitting a global face structure
\cite[Lemma 5.13]{MR3894860}.

\subsection{Tropical Cartier divisors}
Let 
$(X,\mathcal{O}_X^{\times})$ be a rational polyhedral space
and $\opn{PAff}_{\mathbb{Z},X}$ the sheaf
of piecewise integer linear functions
on $X$
(see \cite[Definition 4.1]{MR3894860}
or \cite[Definition 3.8 and Remark
3.9]{MR4637248}).
From definition, there exist the following
exact sequence of sheaves:
\begin{align}
\label{equation-divisor-exact}
0 \to  \mathcal{O}_X^{\times} 
\to \opn{PAff}_{\mathbb{Z},X} \to 
\opn{PAff}_{\mathbb{Z},X}/\mathcal{O}_X^{\times}
\to 0.
\end{align}
Besides, we use the notations below:
\begin{align}
\opn{Div}(X)^{[0]}\deq H^{0}(X;
\opn{PAff}_{\mathbb{Z},X}/\mathcal{O}_X^{\times}), 
\quad \mathcal{D}iv_X^{[0]}\deq
\opn{PAff}_{\mathbb{Z},X}/\mathcal{O}_X^{\times}.
\end{align}
The connecting homomorphism 
$\delta \colon \opn{Div}(X)^{[0]}\to 
H^{1}(X;\mathcal{O}_X^{\times})$
induced from \eqref{equation-divisor-exact}
is surjective \cite[Proposition 4.6]{MR3894860}.
From now on, for a given $D\in \opn{Div}(X)^{[0]}$,
let $\mathcal{L}(D)$ be the associated
line bundle of $D$
(see \cite[\textsection 3.5]{MR4637248} and 
\cite[\textsection 4.3]{MR2457739}).

\begin{remark}
The definition of rational functions on tropical
manifolds varies depending on the author.
Therefore, the definition of Cartier divisors
on tropical manifolds also varies.
In \cite{MR3894860,MR4637248},
the previously mentioned group
$\opn{Div}(X)^{[0]}$ is called
the group of tropical Cartier divisors on $X$,
but this is different from the meaning
in \cite{demedrano2023chern}.
By \cite[Proposition 3.27]{shaw2015tropical},
every tropical cycle of codimension $1$ on a tropical manifold
is a tropical Cartier divisor in the sense of
\cite{shaw2015tropical,demedrano2023chern}.
In contrast, there exist codimension $1$
tropical cycle which does not come from any
elements in $\opn{Div}(X)^{[0]}$.
For example,
the point $\{-\infty\}$ in $\mathbb{T}$ does not
come from $\opn{Div}(\mathbb{T})^{[0]}$.

On the other hand, there exist advantages of
the definition of tropical Cartier divisors in the
sense of \cite{MR3894860,MR4637248}.
One of them is that 
every morphism $f\colon X\to Y$ of rational polyhedral
spaces always induces the pullback
$f^{*}\colon \opn{Div}(Y)^{[0]} \to \opn{Div}(X)^{[0]}$,
and the pullback is compatible with that of 
Picard groups $f^{*}\colon \opn{Pic}(Y) \to \opn{Pic}(X)$
\cite[Propoisition 3.15]{MR4637248}.
\end{remark}

Moreover,
there exists a natural pairing
\cite[\textsection 3.4]{MR4637248}
(cf. \cite[Definition 6.5]{MR2591823}):
\begin{align}
\label{equation-divisor-pairing}
\opn{Div}(X)^{[0]}\times Z_{k}(X)\to Z_{k-1}(X);
(D,A) \mapsto D\cdot A.
\end{align}

In particular, the following equation holds
\cite[Proposition 5.12]{MR4637248}:
\begin{align}
\opn{cyc}_X(D\cdot A)=c_1(\mathcal{L}(D))
\frown \opn{cyc}_X(A).
\end{align}

When $(X,\mathcal{O}_X^{\times})$ is 
a purely $n$-dimensional rational polyhedral space
which admits a fundamental class, there exists 
the following homomorphism 
\cite[Definition 4.14]{MR3894860}:
\begin{align}
\label{equation-divisor-map}
\opn{div}_X\colon
\opn{Div}(X)^{[0]}\to Z_{n-1}(X); D\mapsto D\cdot X.  
\end{align}
See also \cite[Theorem 4.15]{MR3894860}.

Let $A$ be a tropical $k$-cycle on $X$
, $|A|$ the support of $A$
\cite[Definition 3.5]{MR4637248},
and $i\colon |A|\to X$ を $A$
the inclusion of $|A|$.
We note that we can consider $A$ as an
element of $Z_k(|A|)$ and 
the trivial projection
formula holds from definition:
\begin{align}
\label{equation-projection-formula}
i_*(D|_{|A|}\cdot A)=D\cdot A.
\end{align}

\begin{proposition}
\label{proposition-divisor-map-injective}
If $X$ is a purely $n$-dimensional
tropical manifold,
then the homomorphism \eqref{equation-divisor-map}
is injective.
\end{proposition}
\begin{proof}
The divisor map for each open subset of $X$
naturally induces
a sheaf homomorphism
\begin{align}
\opn{div}_X\colon \mathcal{D}iv_X^{[0]}\to 
\mathscr{Z}_{n-1}^{X}.
\end{align}
Therefore, it is enough to check the homomorphism
of sheaves is injective.
Let $\mathcal{B}$ be an open basis of $X$.
Then, the category of $\mathcal{B}$-sheaves
(\cite[p.49-50]{MR2675155})
is equivalent to the category of sheaves on
$X$, so we only need to check 
$\opn{div}_{U}\colon \mathcal{D}iv_X^{[0]}(U)\to Z_{n-1}(U)$
for any $U\in \mathcal{B}$.
Since $X$ is a tropical manifold, we may assume
$U$ is isomorphic to an open subset
of $\opn{LC}_x X\times \mathbb{T}^{n}$
for some $x\in X$.
Moreover, we may assume every piecewise
integer affine linear function on $U$ is the pullback
of a piecewise
integer affine linear function on $\opn{LC}_x X$ 
by the projection $\opn{LC}_x X\times \mathbb{T}^{n}\to \opn{LC}_x X$
locally. If $X$ is boundaryless, then
a generalization of {proposition-divisor-map-injective}
holds
\cite[Theorem 4.5]{MR4246795}.
Therefore, it has been proved.
\end{proof}

\begin{notation}
\label{notation-power-divisor}
From now on, we identify
$\opn{Div}(X)^{[0]}$ with 
$\opn{div}_X(\opn{Div}(X)^{[0]})$
when $X$ is a tropical manifold.
Under this identification,
we can consider every sedentarity-0 tropical
submanifold as an element of $\opn{Div}(X)^{[0]}$.
In particular, from \cref{equation-divisor-pairing},
we can define the \emph{$k$-th power}
$D^{k}$ of $D\in \opn{Div}(X)^{[0]}$ as an element
of $Z_{n-k}(X)$ and satisfies
\begin{align}
\PD{D^{k}}=\PD{D}^{k}=c_1(\mathcal{L}(D))^{k}.
\end{align}
For simplicity, $D^{0}\deq X$.
Additionally, we suppose $D$ is a tropical submanifold on $X$
and $D|_{D}$ is a tropical submanifold on $D$.
For the embedding morphism $\iota_{D}\colon D\to X$,
we obtain the following equation:
\begin{align}
\iota_{|D|*}(D|_{|D|})=D\cdot D.
\end{align}
We can identify the support $|D|_{|D|}|$ with $|D^2|$ 
within the scope where confusion does not arise.
Let $D^{(1)}\deq D$ and $D^{(i+1)}\deq 
D^{(i)}|_{|D^{(i)}|}=D|_{|D^{(i)}|}$ for all
$i\in \mathbb{Z}_{>0}$. 
Moreover, if $D^{(k)}$ $(k=1,\ldots,m)$ is
tropical submanifolds of $|D^{k-1}|$
and $|D^{k}|=|D^{(k)}|$, then
\begin{align}
\iota_{|D^{(k)}|*}(D^{(k+1)})=
\iota_{|D^{(k)}|*}(D^{(k)}|_{|D^{(k)}|})
=D\cdot D^{k}=D^{k+1}.
\end{align}
Thus, we can identify 
$|D^{k+1}|$ with $|D^{(k+1)}|$
within the scope where confusion does not arise.
\end{notation}




\begin{proposition}
$X$ を \cite{demedrano2023chern} の意味での
トロピカル多様体としてのアトラスを持つ有理多面空間とし、
$D,D'\in \opn{Div}^{[0]}(X)$ とする。
このとき、$D$ と $D'$ の
\cite[\textsection 2.4]{demedrano2023chern} の
意味での交叉 $D*D'$ と 
\cite[\textsection 3.4]{MR4637248}
の意味での交叉$D\cdot D'$は一致する。
\end{proposition}
\begin{proof}
\label{proposition-two-pairings}
両者の定義は共に局所的である。
よって、任意のチャートに対して示せばよい。
任意の点 $x\in X$ に対して $x$ を含むチャート
$ \psi_x
\colon U_x \to 
\opn{LC}_x X\times \mathbb{T}^{\opn{sed}_X(x)}$
で、$\psi_x(x)=(0,-\infty)\in \opn{LC}_x X\times \mathbb{T}^{\opn{sed}_X(x)}$
となるものが取れる。
また $U_x$ は、$0\in \opn{LC}_x X$ の可縮な開近傍
$V_x$ と $\mathbb{T}^{\opn{sed}_X(x)}$ の可縮な開近傍
$W_x$ の直積 $V_x\times W_x$ に置き換えてもよい。
さらに、$\opn{Div}^{[0]}(X)$ の定義から
$D|_{V_x\times W_x}$ は 
$B_x\cap \opn{LC}_x X=V_x$ となる
$T_x X$ の開集合上の
$\mathbb{Z}$PL 関数の$V_x$への制限の
主因子 $\opn{div}_{V_x}(f|_{V_x})$ と
$W_x$の直積と仮定してもよい。
よって、両者の因子とサイクルの交叉は、$x$ の近傍では
$V_x$ 上の主因子同士の交叉と $W_x$ の直積とみなせる。
よって、$\opn{sed}_X(x)=0$ の場合に示せば十分である。
以降より $\opn{sed}_X(x)=0$ とする。
また、$i \colon V_x\to B_x$ を包含写像とすると
$V_x$ 上の因子 $D_0$ に対して
\begin{align}
i_*((f|_{V_x})\cdot D_0)=(f)\cdot i_*D_0
\in Z_{n-2}(B_x)
\end{align}
が成り立つ。$B_x$ は、ある実ベクトル空間の開集合であるため、
\cite[\textsection 3.4]{MR4637248}の
ペアリングは、実ベクトル空間上の
\cite{MR2591823} によるトロピカルサイクルの
ペアリングによって決定される。
\cite[\textsection 2.4]{demedrano2023chern}
の意味でのペアリングでも同様の議論が成り立ち、
\cite[Proposition 2.1.9]{shaw2011tropical}
より、やはり$\mathbb{R}^n$
上のトロピカルサイクルの安定交叉
\cite[Definition 4.4]{MR2275625} 
の場合に帰着される。
\cite[\textsection 2]{MR3032930} でも言及されている
ように $\mathbb{R}^n$ 上のトロピカルサイクルの
\cite{MR2591823} の意味での交叉と
\cite{MR2149011,MR2275625} の意味での交叉が一致する
ことは
\cite{MR3529085} や \cite{MR2887109} で示されている。
\end{proof}


最後に
古典的な代数曲面の交点数の異なる定義
の一致をトロピカル曲面の場合で見る。





\begin{proposition}
\label{proposition-cycle-chern}
$X$ をコンパクトトロピカル曲面とし、$D_1,D_2$
をトロピカル $1$-サイクルとする。このとき、
次が成り立つ。
\begin{align}
\label{equation-two-intersections}
D_1 . D_2=\int_X \PD{D_1}\cdot \PD{D_2}.
\end{align}
ここで左辺は、
\cite{shaw2015tropical}
の意味での交点数である。
\end{proposition}
\begin{proof}
$i=1,2$ とする。
このとき、トロピカル $1$-サイクルは、
\cite[Definition 4.2]{MR3330789} の意味での
straight tropical $1$-cycle をなし、
この straight tropical $1$-cycle を
$H_{1,1}^{\mathrm{BM}}(X;\mathbb{Z})$
へと移す写像は、\cite{MR3894860} や
\cite{MR4637248} の意味でのサイクル写像と
整合的である \cite[Theorem 5.13]{MR4637248}。
さらに wave homomorphism 
$\hat{\phi} \colon
H_{n-1,n-1}^{\mathrm{BM}}(X;\mathbb{Z})
\to H_{n,n-2}^{\mathrm{BM}}(X;\mathbb{R})$
に対して
$[D_i]\deq \opn{cyc}_X(D_i)\in \opn{Ker} \hat{\phi}$
である \cite[Theorem 5.4]{MR3330789}。
そのため、\cite[Lemma 5.13]{MR3894860}より
$c_1(\mathcal{L}(D'_i))=\PD{D_i}$、つまり
$c_1(\mathcal{L}(D'_i))\frown [X]=[D_i]$ となる
因子 $D'_i\in \opn{Div}^{[0]}(X)$ を選ぶことができる。
\cite[Proposition 5.12]{MR4637248}より、
$[D_i']=c_1(\mathcal{L}(D'_i))\frown [X]=[D_i]\in 
H_{1,1}^{\mathrm{BM}}(X;\mathbb{Z})$ 
となる。
このとき、
\cite[Proposition 3.34]{shaw2015tropical} と基本事実より
次の等式がそれぞれ成り立つ:
\begin{align}
D_1.D_2=D_1'.D_2', \quad 
\int_X \PD{D_1}\cdot \PD{D_2}
=\int_X \PD{D_1'}\cdot \PD{D_2'}.
\end{align}

よって、$D_1,D_2$ はともに$\opn{Div}(X)^{[0]}$ に属している
と仮定してよい。
また、トレース写像の定義と
\cite[Proposition 5.12]{MR4637248}と射影公式より、
\begin{align}
\int_X \PD{D_1}\cdot \PD{D_2}
&=a_{X*}(c_1(\mathcal{L}(D_1))\frown [D_2])
=a_{X*}(\opn{cyc}_X(D_1\cdot D_2)).
\end{align}

\cite{shaw2015tropical} における
$X$内のトロピカル
$1$-サイクルの交点数の定義は
\cite{shaw2011tropical} のものと異なるが
\cite[Theorem 3.1.7]{shaw2011tropical}
より一致する。また、
\cite[\textsection 2.4]{demedrano2023chern}
の sedentarity-$0$ の因子の
トロピカルサイクルとの交叉は \cite{shaw2011tropical}
をもとに定義されているため
\cite{demedrano2023chern} と
\cite{shaw2015tropical} は互いに整合的である。
\cref{proposition-two-pairings} より、
$D_1,D_2\in \opn{Div}^{[0]}(X)$ の
\cite{demedrano2023chern} による交叉と
\cite{MR4637248} による交叉は一致しているため、
\cref{equation-two-intersections} が示される。
\end{proof}


\subsection{Chern classes and Todd classes of
tropical manifolds}
In this subsection, we start to discuss
\cref{conjecture-rr-bertini} and give a generalization
of \cref{theorem-rr-euler-surface}.

\begin{notation}
Let $X$ be a purely $n$-dimensional tropical manifold
and $\opn{csm}_{k}(X)$ the $k$-th
Chern--Schwartz--MacPherson cycle of $X$
\cite[Definition 3.4]{demedrano2023chern}.
We note that we can define
the $k$-th Chern--Schwartz--MacPherson
cycle of $\opn{csm}_{k}(X)$ by a sheaf
theoretical approach  
from \cite[Proposition 3.11 and Lemma 3.12]{demedrano2023chern}
and \cite[Lemma 4.13]{MR4637248}.
Then, we write the $k$-th Chern class of $X$ as
\begin{align}
c_{k}^{\mathrm{sm}}(X)\deq
\opn{PD}_X\circ \opn{cyc}_{n-k}(\opn{csm}_{n-k}(X))
\in H^{k,k}(X;\mathbb{Z}).
\end{align}
This notation $c_{k}^{\mathrm{sm}}(X)$
is used to avoid confusion with the Chern classes of divisors.
As like this, we write the total Chern class of $X$ as
$c^{\mathrm{sm}}(X)=\sum_{k=0}^{n} c_{k}^{\mathrm{sm}}(X)$.
For a given $L\in H^{1,1}(X;\mathbb{Z})$, we write
the \emph{Chern character} of $L$ as follows:
\begin{align}
\opn{ch}(L)\deq \opn{exp}(L)
\deq \sum_{i=0}^{\infty}\frac{L^{i}}{i!}\in 
H^{\bullet,\bullet}(X;\mathbb{Q}).
\end{align}
\end{notation}

In order to discuss the Todd classes of
tropical manifolds, we recall fundamental properties
of Chern classes of complex manifolds from
\cite{MR1335917,MR1644323,MR2810322}.
Let $M$ be a complex manifold and 
$D$ a nonsingular
divisor on $D$. Let $\mathcal{T}_M$ be the tangent
bundle of $M$.
For an embedding $\iota\colon D\to M$ of
$D$, we have the following
exact sequence: 
\begin{align}
\label{equation-total-adjunction-exact}
0 \to \mathcal{T}_{D}\to \iota^{*}\mathcal{T}_M
\to \iota^{*}\mathcal{O}_M(D)\to 0.
\end{align}
From the axioms of Chern classes,
\eqref{equation-total-adjunction-exact} gives 
the adjunction formula for total Chern classes:
\begin{align}
\label{equation-classical-total-adjunction}
\iota^{*}c(\mathcal{T}_M)
=c(\mathcal{T}_{D})c(\iota^{*}\mathcal{O}_M(D)).
\end{align}
Since $c(\mathcal{O}_M(D))=1+c_1(\mathcal{O}_M(D))$, 
the $k$-th part of \eqref{equation-classical-total-adjunction}
is
\begin{align}
\label{equation-classical-total-adjunction-2}
\iota^{*}c_k(\mathcal{T}_M)
=c_{k}(\mathcal{T}_{D})+
c_{k-1}(\mathcal{T}_{D})c_1(\iota^{*}\mathcal{O}_M(D)).
\end{align}
We can discuss an analog of 
\eqref{equation-classical-total-adjunction},
and expect the following conjecture holds:
\begin{conjecture}
\label{conjecture-grr-divisor}
Let $X$ be a pure dimensional compact tropical manifold
and $D$ a tropical submanifold of $X$ of codimension $1$.
Then, the following equations hold for 
$k\in \mathbb{Z}_{\geq 0}$ and the inclusion 
$\iota\colon D \to X$:
\begin{align}
\label{equation-total-adjunction}
\iota^{*}c^{\mathrm{sm}}(X)&=c^{\mathrm{sm}}(D)
(1+\iota^{*}\PD{D}), \\ 
\iota^{*}c^{\mathrm{sm}}_k(X)&=c^{\mathrm{sm}}_k(D)+
c^{\mathrm{sm}}_{k-1}(D)\iota^{*}\PD{D} \,
(\in H^{k,k}(D;\mathbb{Z})).
\end{align}
\end{conjecture}
We also expect that a version
of \cref{conjecture-grr-divisor} for tropical
Chow groups \cite[Definition 3.30]{shaw2015tropical}
also holds.
When $\dim X=1$, \cref{conjecture-grr-divisor} holds
trivially. When $\dim X=2$,
\cref{conjecture-grr-divisor}
is just another representation of adjunction formula
of locally degree 1 tropical curves on tropical surfaces
(\cite[Theorem 6]{shaw2015tropical},
\cite[Theorem 5.2]{demedrano2023chern}).
We will see later what 
corollaries appear
when \cref{conjecture-grr-divisor} is true.  



From now on, we discuss the Todd classes of
tropical manifolds.
At first, we recall about $m$-sequences.
The notion of $m$-sequence is introduced
by Hirzebruch in \cite[\textsection 1]{MR1335917},
but some part of explanation in
\cite[\textsection 19]{MR440554}
by Milnor--Stasheff are more comprehensible,
we also follow from \cite[\textsection 19]{MR440554}.
Let $\opn{Todd}\deq 
(\opn{Todd}_j)_{j\in \mathbb{Z}_{\geq 0}}$ be 
the Todd $m$-sequence \cite[\textsection 1.7]{MR1335917}.
In complex geometry, the $k$-th Chern class
$c_k(M)\deq c_k(\mathcal{T}_M)$ of
a given complex manifold $M$ is defined
as an element of $H^{2k}(M;\mathbb{Z})$.
The image of the total Chern class 
$c(M)\deq \sum_{i=0}^{\infty}c_i(M)$
in the even cohomology ring $H^{\mathrm{even}}(X;\mathbb{Q})$
of $M$ over $\mathbb{Q}$.
Since $H^{\mathrm{even}}(M;\mathbb{Q})$
is commutative and a graded $\mathbb{Q}$-algebra
and $c_0(M)=1$,
so the total Chern class of $M$ defines 
the Todd class $\opn{td}(M)\deq \sum_{j=0}^{\infty}
\opn{Todd}_j(c_{1}(M),\ldots,c_{j}(M))$ of $M$
\cite[\textsection 10]{MR1335917}.
 
We can define the Todd class
$\opn{td}(X)$ of a given tropical manifold
$X$ by replacing 
$H^{\mathrm{even}}(M;\mathbb{Q})$ with
$\bigoplus_{i=0}^{\infty} H^{i,i}(X;\mathbb{Q})$
(\cref{definition-tropical-todd}).
In \cite[Conjecture 6.13]{demedrano2023chern},
the Todd class of tropical manifolds is
defined as a tropical cycle.
In this paper, we use the Poincar\'e dual of the image 
of the cycle map of it
in order to get closer to the notation 
in algebraic geometry.

\begin{definition}[{\cite[\textsection 6]{demedrano2023chern}}]
\label{definition-tropical-todd}
Let $X$ be a purely $n$-dimensional tropical manifold.
The $j$-th \emph{Todd class} of $X$ is
a cycle in $H^{j,j}(X;\mathbb{Q})$
defined from 
the Todd $m$-sequence 
$\opn{Todd}\deq (\opn{Todd}_j)_{j\in \mathbb{Z}_{\geq 0}}$
with respect to $\bigoplus_{i=0}^{\infty}
H^{i,i}(X;\mathbb{Q})$ as follows:
\begin{align}
\opn{td}_j(X)\deq \opn{Todd}_j(c_{1}^{\mathrm{sm}}(X),
\ldots,c_{j}^{\mathrm{sm}}(X)),
\end{align}
\begin{align}
\opn{td}(X)\deq
\opn{Todd}(c^{\mathrm{sm}}(X))\deq
\sum_{j=0}^{\infty}\opn{td}_j(X).
\end{align}

\end{definition}



\begin{definition}[{\cite[\textsection 12.1.(2)]{MR1335917}}]
\label{definition-rr-number}
Let $X$ be a purely $n$-dimensional
compact tropical manifold.
The \emph{Riemann--Roch number}
of $D(\in Z_{n-1}(X))$ is the following number:
\begin{align}
\label{equation-rr-number}
\opn{RR}(X;D)\deq \int_X \opn{ch}(\PD{D})\opn{td}(X).
\end{align}
\end{definition}
If $D\in \opn{Div}(X)^{[0]}$,
then we can write \cref{equation-rr-number}
as \cref{equation-intro-rr}
from \cite[Proposition 5.12]{MR4637248}.

Following the theory of algebraic geometry,
we define the \emph{generalized Gysin map}
associated with proper morphism between
tropical manifolds (see  
\cite[Chapter 13. Appendix]{MR2810322}
for classical cases).
We note that the generalized Gysin map
for tropical manifolds
have already appeared in \cite{amini2020hodge}.
\begin{definition}[{cf. \cite{amini2020hodge}}]
Let $X$ and $Y$ be pure dimensional tropical manifolds
and $Q$ a subring of $\mathbb{R}$.
Let $f\colon X\to Y$ be a proper morphism.
The \emph{generalized Gysin map} of $f$ is 
the morphism $f_!\colon H^{\bullet,\bullet}(X;Q)\to 
H^{\bullet,\bullet}(Y;Q)$
which commutes with the following diagram:
\begin{equation}
\begin{tikzcd}
	{H^{\bullet,\bullet}(X;Q)} & {H^{\bullet,\bullet}(Y;Q)} \\
	{H_{\bullet,\bullet}^{\mathrm{BM}}(X;Q)} & {H_{\bullet,\bullet}^{\mathrm{BM}}(Y;Q)}
	\arrow["{\cdot \frown [X]}"', from=1-1, to=2-1]
	\arrow["{\cdot\frown[Y]}", from=1-2, to=2-2]
	\arrow["{f_*}"', from=2-1, to=2-2]
	\arrow["{f_!}", from=1-1, to=1-2]
\end{tikzcd}.   
\end{equation}

\end{definition}
From definition, there exists the following projection formula.
\begin{proposition}
\label{equation-gysin-projection-formula}
Let $f\colon X\to Y$ be a proper morphism
between pure dimensional
tropical manifolds $X$ and $Y$.
Then, for any $c\in H^{\bullet,\bullet}(Y;Q) $ and
$d\in H^{\bullet,\bullet}(X;Q)$ the following equation holds:
\begin{align}
    f_!(f^{*}(c)\cdot d)=c\cdot f_!(d).
\end{align}
In particular, $f_!(f^{*}(c))=c\cdot f_!(1)=c\cdot \PD{X}$
when $X$ is a rational polyhedral subspace of $Y$ and 
$f$ is the inclusion map.
\end{proposition}

\begin{proof}
Since $\cdot \frown [Y]$ is an isomorphism, we only need
to prove the following:
\begin{align}
    f_!(f^{*}(c)\cdot d)\frown [Y]=(c\cdot f_!(d))\frown [Y]
\end{align}
We can get the projection formula for generalized Gysin
map from that for the pushforward of tropical 
Borel--Moore homologies as follows:
\begin{align}
(c\cdot f_!(d))\frown [Y]&=
c\frown(f_!(d)\frown [Y])=
c\frown f_*(d\frown [X])\\
&=f_*(f^*(c)\frown (d\frown [X]))
=f_*((f^*(c)\cdot d) \frown [X]) \\
&=f_!(f^{*}(c)\cdot d)\frown [Y].
\end{align}
\end{proof}

\begin{example}
Let $X$ be a purely $n$-dimensional compact tropical
manifold, 
$Z_1$ a tropical submanifold of $X$,
and $Z_2$ a tropical submanifold of $Z_1$.
Let $\iota_{Z_1}\colon Z_1\to X$,
$\iota_{Z_2}\colon Z_2\to X$ and
$j\colon Z_2\to Z_1$ be the inclusion
morphisms.
Then, 
\begin{align}
\iota_{Z_2 !}(j^{*}(\PD{Z_1}|_{Z_1}))
=\PD{Z_1}\cdot \PD{Z_2}.
\end{align}
\end{example}

\begin{example}
\label{example-grr-1}
Let $X$ be a purely $n$-dimensional tropical manifold
and $D$ a tropical submanifold of codimension $1$ on 
$X$. If 
\cref{conjecture-grr-divisor} is true, then
the generalized Gysin map of the
inclusion map
$\iota\colon D\to X$ induces
\begin{align}
c^{\mathrm{sm}}(X)\cdot \PD{D}=\iota_!c^{\mathrm{sm}}(D)
(1+\PD{D}).
\end{align}
The first degree part of the equation above is
\begin{align}
\label{equation-adjunction-dmrs}
c^{\mathrm{sm}}_{1}(X)\cdot \PD{D}=\iota_!c^{\mathrm{sm}}_1(D)
+\PD{D}\cdot \PD{D}.
\end{align}
We may consider \cref{equation-adjunction-dmrs} as 
the Poincar\'e dual of the adjunction formula proved in
\cite[Theorem 5.2]{demedrano2023chern}.
By using the canonical divisor of tropical manifolds,
\eqref{equation-adjunction-dmrs} can be rewritten as follows:
\begin{align}
\iota_! \PD{K_D}=(\PD{K_X}+\PD{D})\PD{D}.
\end{align}
If $\dim X=2$, then this equation also gives
the adjunction formula of tropical surfaces which is proved
in \cite[Theorem 4.11]{shaw2015tropical}
since $H^{2,2}(X;\mathbb{Z})\simeq \mathbb{Z}$.
\end{example}

\begin{example}[{cf. \cite[Chapter 13 Appendix]{MR2810322}}]
We retain the notation
in \cref{example-grr-1}.
We also assume \cref{conjecture-grr-divisor} is true again.
From \eqref{equation-total-adjunction}
and the property of multiplicative sequences, 
\begin{align}
\label{equation-todd-adjunction-1}
\iota^{*}\opn{td}(X)=
\opn{td}(D)\frac{\iota^{*}\PD{D}}
{1-\opn{exp}(-\iota^{*}\PD{D})}.
\end{align}
From \cref{equation-todd-adjunction-1} we also get
\begin{align}
\opn{td}(D)
=\iota^{*}\left(
\frac{1-\opn{exp}(-\PD{D})}{
\PD{D}}\opn{td}(X)\right).
\end{align}
Moreover, the projection formula for 
$\iota$ gives
\begin{align}
\label{equation-grr-divisor-2}
\iota_!(\opn{td}(D))=(1-\opn{ch}(-\PD{D}))\opn{td}(X).
\end{align}
The equation \eqref{equation-grr-divisor-2} 
is a special case of an analog of 
the Grothendieck--Riemann--Roch theorem.

Let $D'$ be a tropical $(n-1)$-cycle on $X$.
Then, the projection formula for 
the embedding $\iota\colon D\to X$ gives
\begin{align}
\iota_!(\opn{ch}(\iota^{*}(\PD{D'}))\opn{td}(D))
&=\opn{ch}(\PD{D'})\iota_!(\opn{td}(D)) \notag \\
&=(\opn{ch}(\PD{D'})-\opn{ch}(\PD{D'-D}))\opn{td}(X).
\end{align}
If $D'$ is in $\opn{Div}^{[0]}(X)$, then
the pullback $\iota^{*}D'=D'|_{D}$ of $D'$ satisfies
the following:
\begin{align}
\label{equation-rr-number-divisor}
\opn{RR}(X;D'-D)=\opn{RR}(X;D')-
\opn{RR}(D;D'|_{D}).
\end{align}


Similarity to the case of algebraic varieties,
we can define the
\emph{virtual T-genus} of $D_1,\ldots,D_m\in Z_{n-1}(X)$
as follows \cite[\textsection 11.2]{MR1335917}:
\begin{align}
T(X)\deq \opn{RR}(X;0),\quad  T(X;D_1,\ldots,D_m)\deq
\int_X\prod_{j=1}^{m}(1-\opn{exp}(-\PD{D_j}))\opn{td}(X).
\end{align}
We can see $T(X;D)=\opn{RR}(X;D)$ when
\cref{conjecture-grr-divisor} is true.


As explained in \cite[\textsection 20.6]{MR1335917},
the following equation holds
\begin{align}
\opn{exp}(\PD{D_1})=(1-(1-\opn{exp}(-\PD{D_1})))^{-1}
=\sum_{j=0}^{n}(1-\opn{exp}(-\PD{D_1}))^j.
\end{align}

From this, we obtain the following equation
\cite[\textsection 20.6.(14)]{MR1335917}:
\begin{align}
\opn{RR}(X;D_1)=\sum_{j=0}^{n}T(X;\overbrace{D_1,\ldots,D_1}^{j}).
\end{align}

Additionally, we assume every $D_i$ ($i=1,\ldots,m$) is
in $\opn{Div}^{[0]}(X)$ and $D_1=D$.
Then, from 
\cref{equation-rr-number-divisor} and
\cref{equation-gysin-projection-formula},
we also obtain the following equations \cite[Theorem 11.2.1]{MR1335917}:
\begin{align}
T(X;D_1,\ldots,D_m)&=T(D_1;D_2|_{D_1},\ldots,D_m|_{D_1}), \\
\sum_{j=1}^{n}T(X;\overbrace{D,\ldots,D}^{j})
&=\opn{RR}(D;0)+\sum_{j=1}^{n-1}T(D;\overbrace{D|_D,\ldots,D|_{D}}^{j})
=\opn{RR}(X;D|_D).
\label{equation-rr-reduction}
\end{align}
If $D|_D$ is also a tropical submanifold,
then this process can be repeated.
\end{example}

\begin{proposition}
If \label{proposition-euler-to-bertini}
\cite[Conjecture 6.13]{demedrano2023chern},
\cref{conjecture-grr-divisor,conjecture-rr-euler}
are true, then \cref{conjecture-rr-bertini} is also true. 
\end{proposition}

\begin{proof}
We suppose \cref{conjecture-grr-divisor} is true.
From the assumption, 
$D'$ is sedentarity-$0$. 


If \cref{conjecture-rr-euler} and 
\cite[Conjecture 6.13]{demedrano2023chern} is true,
then
\begin{align}
\opn{RR}(X;D'-D)=&\opn{RR}(X;D')-
\opn{RR}(D;D'|_{D}) \notag \\
=&\chi(X\setminus D')-\chi(D\setminus (D'\cap D)). \notag
\end{align}
Therefore, it has been proved.
\end{proof}

Based on the above, we will generalize
\cref{theorem-rr-euler-surface}.

\begin{theorem}
\label{theorem-rr-bertini-surface}
Let $X$ be a compact tropical surface
and $(D,D')$ a pair of tropical submanifold of
codimension $1$ in moderate position. Then,
\begin{align}
\chi(X\setminus D')-\chi(D\setminus (D'\cap D))
=\frac{(D'-D).(D'-D-K_X)}{2}+\chi(X).
\end{align}
In particular, \cref{conjecture-rr-bertini} is true 
when $X$ admits a Delzant face structure.
\end{theorem}

\begin{proof}
Since $\dim X=2$, 
\cref{conjecture-grr-divisor} is true.
From \cref{theorem-rr-euler-surface} and 
\eqref{equation-rr-number-divisor}, we have
\begin{align}
\frac{(D'-D).(D'-D-K_X)}{2}=&
\opn{RR}(X;D')-\opn{RR}(X;0)-
\opn{RR}(D;D'\cap D) \\
=&\chi(X\setminus D')-\chi(X)-\chi(D\setminus (D'\cap D)).
\end{align}
\end{proof}



\begin{remark}
In the proof of \cref{theorem-rr-euler-surface}, 
の証明では、Euler calculus の視点から
トロピカル多様体 $X$ の余次元 $1$ のトロピカル部分多様体
$D$ の補集合の Euler 数 $\chi(X\setminus D)$ を計算するという
手法をとった。このテクニックは moderate  $(D,D')$ に
対しても有効であるが、注意も必要である。

ここでは、\cite{MR1299726} に書かれている知識が必要であるため
それを整理する。
$A$ を $\mathbb{R}$ の部分環とし、$A_X$ を
$X$ 上の定数層とし、$\catn{Mod}(A_X)$ を $A_X$加群の層の
なす圏とする。
$Z$ を局所閉部分集合とし、
$j\colon Z\to X$ を包含写像とする。
$(\cdot)_{Z}\colon \catn{Mod}(A_X) \to \catn{Mod}(A_X)$
を \cite[Proposition 2.3.6]{MR1299726} で定義される完全
関手とし、
$\Gamma_{Z}\colon \catn{Mod}(A_X) \to \catn{Mod}(A_X)$
を \cite[Definition 2.3.8]{MR1299726} で定義される関手
とする。$X$ 上の層 $\mathcal{F}$ に対して、
$(\mathcal{F})_{Z}\simeq j_!j^{-1}\mathcal{F}$ である。
特に、$Z$ が開集合であるときは、
$\Gamma_{Z}\mathcal{F}\simeq
j_*j^{-1}\mathcal{F}$ である
\cite[Proposition 2.3.9 (iii)]{MR1299726}。
このとき、次の層の完全列が存在する。
\begin{align}
\label{equation-closed-open-exact}
0 \to (\mathbb{Q}_X)_{X\setminus D}
\to \mathbb{Q}_X \to (\mathbb{Q}_X)_{D} \to 0.
\end{align}

次に、導来関手 $R\Gamma_{X\setminus D'}$ を
\begin{align}
R\Gamma_{X\setminus D'}((\mathbb{Q}_X)_{X\setminus D})
\to  R\Gamma_{X\setminus D'}(\mathbb{Q}_X)
\to R\Gamma_{X\setminus D'}((\mathbb{Q}_X)_D)
\to R\Gamma_{X\setminus D'}((\mathbb{Q}_X)_{X\setminus D})[1].
\end{align}


さらに、$i\colon D\to X$ を包含写像とすると
\cite[(2.3.20)]{MR1299726} より
\begin{align}
R\Gamma_{X\setminus D'}((\mathbb{Q}_X)_D)
\simeq i_* R\Gamma_{D\setminus D'}\mathbb{Q}_D
\end{align}
となるので、次の等式が成り立つ。
\begin{align}
\chi(\mathbb{H}^{\bullet}(X;R\Gamma_{X\setminus D'}((\mathbb{Q}_X)_{X\setminus D})))
= \chi(X\setminus D')
- \chi(D\setminus (D'\cap D)).
\end{align}

なお、定義からわかるように
\begin{align}
\mathbb{H}^{\bullet}(X;R\Gamma_{X}
((\mathbb{Q}_X)_{X\setminus D}))
\simeq H^{\bullet}_c(X\setminus D), \quad
\mathbb{H}^{\bullet}(X;R\Gamma_{X\setminus D'}
((\mathbb{Q}_X)_{X}))
\simeq H^{\bullet}(X\setminus D')
\end{align}
である。
詳細は省くが、
$\mathbb{H}^{\bullet}(X;R\Gamma_{X\setminus D'}
((\mathbb{Q}_X)_{X\setminus D}))$
は \cite{tsutsui2023graded} にて定義した
コンパクトトロピカル多様体上の
permissible な $C^{\infty}$ 因子 $s$ が定義する
次数付き加群 $\opn{LMD}^{\bullet}(X;s)$
の類似物の一種であり、密接に関係している。
(簡単な場合は\cref{remark-c-infinity-divisor}
にて説明している。)



この論文では、\eqref{equation-closed-open-exact} を
\eqref{equation-anti-effective-divisor} の一種の
類似と見立てており、
導来関手 $R\Gamma_{X\setminus D'}$ を
代数多様体の非特異因子が定義する直線束のテンソル積の類似
と見立てている。
ここで注意しなければならないのは、
直線束のテンソル積とは異なり、
$(\cdot )_{X\setminus D}$
と $R\Gamma_{X\setminus D}$ は可換ではない。
実際に任意の層 $\mathcal{F}$ に対して
\begin{align}
(R\Gamma_{X\setminus D}(\mathcal{F}))_{X\setminus D}
\simeq 
\mathcal{F}_{X\setminus D}, \quad
R\Gamma_{X\setminus D}((\mathcal{F})_{X\setminus D})
\simeq R\Gamma_{X\setminus D}(\mathcal{F})
\end{align}
from $j^{-1}j_*=j^{-1}j_!=\opn{id}$
\cite[p.110]{MR842190}.
一方で次の同型が成り立つ。
\begin{align}
R\Gamma_{X\setminus D'}
(R\Gamma_{X\setminus D}(\mathcal{F}))
\simeq R\Gamma_{X\setminus (D\cup D')}(\mathcal{F}), \quad
((\mathcal{F})_{X\setminus D})_{X\setminus D'}
\simeq (\mathcal{F})_{X\setminus (D \cup D')}.
\end{align}
ゆえに、トロピカル部分多様体の Bertini 対 $(D,D')$ の定義を
トロピカル部分多様体の良い交わりをする有限和の対に弱める
ことができると期待できる。

\end{remark}

% \begin{remark}
% \label{remark-floer-differential}
% \cref{remark-c-infinity-divisor}
% を読んでいないならば、読み飛ばして問題ない。
% $(D,D')$ をコンパクトトロピカル多様体
% $X$ 上の Bertini 対としたとき、
% $\mathbb{H}^{\bullet}(X;R\Gamma_{X\setminus D'}
% ((\mathbb{Q}_X)_{X\setminus D}))$
% の Euler 数が $D'-D$ の Riemann--Roch 数の
% ように振る舞い、実際にいくつかのケースでは正しいことを
% 見てきた。しかし、$\mathbb{H}^{\bullet}(X;R\Gamma_{X\setminus D'}
% ((\mathbb{Q}_X)_{X\setminus D}))$ は必ずしも
% $D'-D$ に付随する直線束のコホモロジーのようには
% 振舞わない。これをトロピカル楕円曲線 $X\deq 
% \mathbb{R}/\mathbb{Z}$ を例にとり説明する。
% $0=a_1<b_1<\frac{1}{4}<b_2<a_2=\frac{1}{2}$ とし、
% $D'=[a_1]+[a_2]$, $D=[b_1]+[b_2]$ とする。このとき、
% $c\deq b_2+(b_1-a_1)<\frac{1}{2}$なので、
% $D_0\deq [a_1]-[b_1]-[b_2]-[c]$ は
% $\mathbb{R}/\mathbb{Z}$ 上の主因子を定義する。
% よって、$D'-D$ は $[a_2]-[c]$ と線形同値となる。
% よって $D'-D$ が線形同値であるか否かは
% $[a_2]=[c]$ であるか否かとなる。
% 代数曲線 $\mathcal{C}$ 上の因子 $\mathcal{D}$ が
% 自明か否かは
% またトロピカル曲線
% Baker--Norine rank は、
% \end{remark}

ここでは、



\begin{definition}
Let $\colon D\to X$ be the inclusion map
of tropical submanifold of codimension $1$ on
a tropical manifold of dimension $n$ 
and $A\in\bigoplus_{k=0}^{\infty} Z_{k}(X)$.
Suppose $D\in \opn{Div}^{[0]}(X)$.
A element $B\in\bigoplus_{k=0}^{\infty} Z_{k}(X)$
is a \emph{pullback} of $A$ if
\begin{align}
	\iota_* B=D\cdot A.
\end{align}
\end{definition}

\begin{example}
Let $B$ be a pullback of $\opn{csm}(X)=
\sum_{k=0}^{n}\opn{csm}_k(X)$.
Suppose the following equation holds:
\begin{align}
B=(1+\iota^{*}D)\cdot \opn{csm}(D).
\end{align}
Then, we get 
\begin{align}
\iota_*B=D\cdot \opn{csm}(X)
=(1+D)\cdot \iota_*\opn{csm}(D),\\
\PD{\opn{cyc}_D(B)}=(1+\iota^{*}\PD{D})c^{\mathrm{sm}}(D).
\end{align}

\begin{align}
\PD{\opn{cyc}_D(\iota_*B)}=\iota_!\PD{\opn{cyc}_D(B)}
=D\cdot c^{\mathrm{sm}}(X)=
\iota_{!}(\iota^{*}(c^{\mathrm{sm}}(X))).
\end{align}

\begin{align}
\opn{td}(D)=\iota^{*}\left(
\frac{1-\opn{exp}(-\PD{D})}{
\PD{D}}\right)\opn{Todd}(\PD{\opn{cyc}_D(B)})
\end{align}

\end{example}

\begin{example}
If $X=\mathbb{R}^{n}=L_{U_{d+1,n+1}}$ and 
$D= L_{U_{d,n+1}}(\subset L_{U_{d+1,n+1}})$,
then \cref{conjecture-grr-divisor} is true
from \cite[Example 2.10]{MR3999674},
$D\in \opn{Div}^{[0]}(X)$ and
the recursive formula of binomial coefficients.
The intersection of tropical cycles
is local, so we can also say
\cref{conjecture-grr-divisor} is true
when $D$ is relatively uniform on $X$.
\end{example}


\begin{proposition}
Let $X$ be a purely $n$-dimensional
compact tropical manifold
and $D$ a tropical submanifold of codimension $1$.
If $D$ is relatively uniform on $X$, then 
the $k$-th power of $D$ is also a tropical submanifold
of $X$ for all $k \in \mathbb{Z}_{>0}$ and the following
equations hold:
\begin{align}
\opn{RR}(X;D)&=\sum_{i=0}^{n}\opn{RR}(|D^{i}|;0).
\end{align}
\end{proposition}
\begin{proof}
If $D$ is relatively uniform on $X$,
then for any $x\in |D^{j}|$ for some $j\in \mathbb{Z}_{>0}$
there exists the following isomorphism:
\begin{align}
\label{equation-relatively-uniform-cone}
\opn{LC}_x |D^{j}|\simeq 
\opn{lineal}(D,x)\times \opn{LC}_x X/\opn{lineal}(X,x)
\times L_{U_{r-j,r}}.
\end{align}



\end{proof}

\begin{remark}
\label{remark-rr-in-ag}


ここで、任意の$j\in \mathbb{Z}_{>0}$ に対して
$V_j=D$ かつ
$[V_{j}|_{V_{j}}]=[V_{j+1}]$ となるトロピカル部分多様体の族
$\{V_j\}_{j\in \mathbb{Z}_{>0}}$ が存在する
と仮定すると\eqref{equation-rr-reduction} より
\begin{align}
\opn{RR}(X;D)\deq \sum_{j=0}^{n}\opn{RR}(V_j;0).
\end{align}
となる。$D$ が $X$ に対して相対的に uniform であるとすると、
$V_j\deq |D^{j}|$ とおくことで、条件を満たす。 
また、$x\in |D^j|$ に対して次の同型が成り立つ。

よって、Euler calculus より次の等式が成り立つはずである。
\begin{align}
\label{equation-euler-calculus-sum}
\chi(X\setminus D)=\sum_{j=0}^{n}\chi(|D^{j}|).
\end{align}

\end{remark}

\bibliography{tropical-complement}
\bibliographystyle{amsalpha}

\end{document}